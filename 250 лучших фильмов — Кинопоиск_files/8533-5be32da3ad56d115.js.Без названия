(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8533],{3141:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},44136:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,o){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof r&&(o=r,r={}),r=r||{},o=o||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?t:n)(a,o),a.onload||t(a,o),i.appendChild(a)}},99915:function(e,t,n){var r=n(6448),o=n(28249);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},96705:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(84689),o=n(85278);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){const n=(0,o.w6)(1),r=a(a({},t),{},{_meta:n});e.trackEvent("Application.SubscriptionOffer.Loaded",r)}},6234:function(e,t,n){"use strict";n.d(t,{Em:function(){return l},N5:function(){return d},Tf:function(){return m},Vb:function(){return p},_B:function(){return c},v6:function(){return u},y0:function(){return f},yH:function(){return v},z_:function(){return s}});var r=n(84689),o=n(85278);n(53813);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){const n=(0,o.w6)(1),r=a(a({},t),{},{uuidType:"kinopoisk",_meta:n});e.trackEvent("MovieCard.Showed",r)}function s(e,t){const{parentSelectionId:n=""}=t,r=(0,o.w6)(6,{offerMovieCard:{version:3}}),i=a(a({},t),{},{parentSelectionId:n,eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"show",page:"MovieCard",monetizationModel:"SVOD",_meta:r});e.trackEvent("MovieCard.SubscriptionOffer.Showed",i)}function u(e,t){const{parentSelectionId:n=""}=t,r=(0,o.w6)(6,{offerMovieCard:{version:3}}),i=a(a({},t),{},{parentSelectionId:n,eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"click",page:"MovieCard",monetizationModel:"SVOD",from:"movie_card_screen",_meta:r});e.trackEvent("MovieCard.SubscriptionOffer.Navigated",i)}function f(e,t){const{parentSelectionId:n=""}=t,r=(0,o.w6)(5,{offerMovieCard:{version:3}}),i=a(a({},t),{},{parentSelectionId:n,eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"successfulPurchase",page:"MovieCard",monetizationModel:"SVOD",_meta:r});e.trackEvent("MovieCard.SubscriptionOffer.Succeed",i)}function l(e,t){const{parentSelectionId:n=""}=t,r=(0,o.w6)(6,{offerMovieCard:{version:4}}),i=a(a({},t),{},{parentSelectionId:n,eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"successfulPurchase",page:"MovieCard",monetizationModel:"SVOD",_meta:r});e.trackEvent("MovieCard.SubscriptionOffer.Succeed",i)}function p(e,t){const{parentSelectionId:n=""}=t,r=(0,o.w6)(2),i=a(a({},t),{},{parentSelectionId:n,eventType:"offer",eventSubtype:"subscriptionWithContent",actionType:"successfulPurchase",page:"MovieCard",monetizationModel:"SVOD",_meta:r});e.trackEvent("MovieCard.SubscriptionOffer.Canceled",i)}function d(e,t){const n=(0,o.w6)(2,{offerTransaction:{version:2}}),r=a(a({},t),{},{eventType:"offer",eventSubtype:"transaction",actionType:"show",page:"MovieCard",entityType:"PlayButton",_meta:n});e.trackEvent("MovieCard.TransactionOffer.Showed",r)}function m(e,t){const n=(0,o.w6)(2,{offerTransaction:{version:2}}),r=a(a({},t),{},{eventType:"offer",eventSubtype:"transaction",actionType:"click",page:"MovieCard",entityType:"PlayButton",to:"payment",from:"movie_card_screen",_meta:n});e.trackEvent("MovieCard.TransactionOffer.Navigated",r)}function v(e,t){const n=(0,o.w6)(2,{offerTransaction:{version:2}}),r=a(a({},t),{},{eventType:"offer",eventSubtype:"transaction",actionType:"successfulPurchase",page:"MovieCard",entityType:"PlayButton",_meta:n});e.trackEvent("MovieCard.TransactionOffer.Succeed",r)}let y,g;!function(e){e.MovieCardScreen="movie_card_screen"}(y||(y={})),function(e){e.KinopoiskMovieCard="kinopoisk_movie_card",e.MovieCardScreen="movie_card_screen"}(g||(g={}))},36056:function(e,t,n){"use strict";function r(){const e=[];return{clear(){e.length=0},emit(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let o=0;o<e.length;o++)e[o].apply(null,n)},listen:t=>(e.push(t),()=>{const n=e.indexOf(t);e.splice(n,1)})}}function o(){const e=r(),t={listen:e.listen,cancelled:!1};return{signal:t,cancel(n){t.cancelled||(t.cancelled=!0,t.reason=n,e.emit())}}}function i(e){return{create:t=>({type:e,props:t}),is:t=>(null===t||void 0===t?void 0:t.type)===e}}n.d(t,{Zw:function(){return h},xh:function(){return u}});const a=i("@channel/ready"),c=i("@channel/setup");var s,u;!function(e){e.InProgress="SYNCHRONIZATION_IN_PROGRESS",e.Synchronized="SYNCHRONIZED"}(s||(s={})),function(e){e[e.IDLE=0]="IDLE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR"}(u||(u={}));const f=/oneclick-payment(?:\.ott)?\.(kinopoisk|yandex)\.ru$/;function l(e){const t=e.match(f);return t?"kinopoisk"===t[1]?"hd":"smarttv":"hd"}const p=i("ocp/invoice"),d=i("ocp/purchase"),m=i("ocp/suspend"),v=i("ocp/resume"),y=i("ocp/resize"),g="0.15.5";function h(e){var t;let n,i;const s=o(),u=Math.min(e.loadTimeout||5e3,3e4),f=null!==(t=e.iframeId)&&void 0!==t?t:"oneclick-payment";return{load:()=>(i||(i=new Promise(((t,i)=>{const p=window.setTimeout((()=>{s.cancel(new Error("Iframe loading timeout"))}),u),d=document.createElement("a"),m=document.createElement("iframe");m.id=f,e.container===document.body?m.style.cssText="\n                            border: 0;\n                            outline: 0;\n                            position: absolute;\n                            top: 0;\n                            left: 0;\n                            width: 0;\n                            height: 0;\n                        ":m.style.cssText="\n                            border: 0;\n                            outline: 0;\n                            width: 100%;\n                            height: 100%;\n                        ",e.container.appendChild(m),m.onload=()=>{if(m.onload=null,!m.contentWindow)return void s.cancel(new Error("Iframe window is not accessible"));n=function(e){let{logger:t,origin:n,target:i}=e,s=0;const u=o(),f=r(),l=e=>e===n||"*"===n,p=e=>{t&&t(e)},d=e=>{l(e.origin)&&2===s&&f.emit(e.data)};return window.addEventListener("message",d),u.signal.listen((()=>{s=3,f.clear(),window.removeEventListener("message",d)})),{get readyState(){return s},listen:f.listen,connect(e,t){try{if(0!==s)throw new Error("Invalid channel state");s=1,i.postMessage(c.create(e),n);const r=e=>{l(e.origin)&&a.is(e.data)&&(t(),s=2,o(),window.removeEventListener("message",r))};window.addEventListener("message",r);const o=u.signal.listen((()=>{window.removeEventListener("message",r)}))}catch(e){t(e)}},ready(e){try{if(0!==s)throw new Error("Invalid channel state");s=1;const t=o=>{if(l(o.origin)&&c.is(o.data)){try{e(o.data.props),i.postMessage(a.create(),n),s=2}catch(e){p(e)}r(),window.removeEventListener("message",t)}};window.addEventListener("message",t);const r=u.signal.listen((()=>{window.removeEventListener("message",t)}))}catch(e){p(e)}},close(){u.cancel()},send(e){try{if(2!==s)throw new Error("Channel is not connected");i.postMessage(e,n)}catch(e){p(e)}}}}({origin:d.origin,target:m.contentWindow,logger:e.logger});const i={apiHostname:e.apiHostname,authToken:e.authToken,requestId:e.requestId,purchaseTimeout:e.purchaseTimeout,pollingInterval:e.pollingInterval,template:e.template,fontSize:e.fontSize,tag:e.tag,source:e.source,target:e.target,offerForName:e.offerForName,optionOfferNames:e.optionOfferNames,tariffOfferName:e.tariffOfferName,buttonText:e.buttonText,connectFrameId:f};n.connect(i,(e=>{window.clearTimeout(p),e?s.cancel(e):t()}))},s.signal.listen((()=>{window.clearTimeout(p),n&&n.close(),m.onload=null,m.parentNode&&m.parentNode.removeChild(m);const t=s.signal.reason;i(t),(t=>{t&&e.logger&&e.logger(t)})(t)}));try{if(!e.iframeHostname)throw new Error("Invalid iframe source");const t=e.iframeSourceConfig?function(e){let{hostname:t,version:n,iframeSourceConfig:r,template:o="film"}=e;return`${t}/ui/${n}/button/${o}/${r.colorScheme}/${r.buttonType}/${r.buttonSize}.html`}({hostname:e.iframeHostname,version:g,iframeSourceConfig:e.iframeSourceConfig,template:e.template}):[v=e.iframeHostname,g,`${l(v)}.html`].join("/");d.href=t,m.src=t}catch(r){s.cancel(r)}var v}))),i),destroy(){s.cancel()},purchase(){n&&n.send(d.create())},suspend(){n&&n.send(m.create())},resume(){n&&n.send(v.create())},resize(e){n&&n.send(y.create(e))},listen:e=>n?n.listen((t=>{p.is(t)&&t.props.connectFrameId===f&&e(t.props.state)})):Function}}},56311:function(e,t,n){"use strict";var r=n(61536),o=n(37667),i=n(39965),a=n(17118);function c(e){var t=(0,i.Z)(),n=t.formatMessage,r=t.textComponent,a=void 0===r?o.Fragment:r,c=e.id,s=e.description,u=e.defaultMessage,f=e.values,l=e.children,p=e.tagName,d=void 0===p?a:p,m=n({id:c,description:s,defaultMessage:u},f,{ignoreTag:e.ignoreTag});return"function"===typeof l?l(Array.isArray(m)?m:[m]):d?o.createElement(d,null,o.Children.toArray(m)):o.createElement(o.Fragment,null,m)}c.displayName="FormattedMessage";var s=o.memo(c,(function(e,t){var n=e.values,o=(0,r.__rest)(e,["values"]),i=t.values,c=(0,r.__rest)(t,["values"]);return(0,a.wU)(i,n)&&(0,a.wU)(o,c)}));s.displayName="MemoizedFormattedMessage",t.Z=s},39965:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(37667),o=n(83981),i=n(17118);function a(){var e=r.useContext(o._y);return(0,i.lq)(e),e}},21498:function(e,t,n){"use strict";t.h6=t.hg=void 0;var r=n(70505);Object.defineProperty(t,"hg",{enumerable:!0,get:function(){return r.JsonLd}}),Object.defineProperty(t,"h6",{enumerable:!0,get:function(){return r.jsonLdScriptProps}})},70505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.helmetJsonLdProp=t.jsonLdScriptProps=t.JsonLd=void 0;const r=n(37667);function o(e,t={}){return{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e,s,t.space)}}}t.JsonLd=function(e){return r.createElement("script",Object.assign({},o(e.item,e)))},t.jsonLdScriptProps=o,t.helmetJsonLdProp=function(e,t={}){return{type:"application/ld+json",innerHTML:JSON.stringify(e,s,t.space)}};const i=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"}),a=new RegExp(`[${Object.keys(i).join("")}]`,"g"),c=e=>i[e],s=(e,t)=>{switch(typeof t){case"object":if(null===t)return;return t;case"number":case"boolean":case"bigint":return t;case"string":return t.replace(a,c);default:return}}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/8533-5be32da3ad56d115.js.map