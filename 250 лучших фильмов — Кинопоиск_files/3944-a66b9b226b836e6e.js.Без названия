(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3944],{53944:function(e,t,r){"use strict";r.d(t,{cV:function(){return R},lr:function(){return j},As:function(){return G},Iy:function(){return N},rj:function(){return H},C_:function(){return n},hB:function(){return U},Qz:function(){return b}});let n;!function(e){e.Left="left",e.Right="right",e.Both="both"}(n||(n={}));const s=100;var o=r(88211),l=r.n(o);let c;!function(e){e.Left="left",e.Right="right"}(c||(c={}));var a=r(58486),i=r.n(a),u=r(42908);const f=e=>{let{className:t,iconClassName:r,direction:n=c.Right,text:s,onClick:o,"aria-label":a}=e;return(0,u.jsxs)("button",{type:"button",onClick:o,className:l()(t,i().root),"aria-label":a,"data-tid":"6fd705ff",children:[(0,u.jsx)("span",{className:l()(r,{[i().iconLeftDir]:n===c.Left,[i().iconRightDir]:n===c.Right})}),s&&(0,u.jsx)("span",{className:i().text,children:s})]})};var h=r(37667),d=r.n(h),_=r(21387),m=r.n(_);const y=e=>{let{scrollBarRef:t,onEdgeReached:r}=e;const s=d().useRef(null),o=d().useCallback((e=>{var t;s.current!==e&&(s.current=e,r&&r((t=s.current)?t===n.Both?[n.Left,n.Right]:[t]:[]))}),[r]);return{handleEdgeReached:d().useCallback((()=>{if(!t.current)return;const e=(e=>{const{scrollWidth:t,clientWidth:r,scrollLeft:s}=e;return t<=r?n.Both:s<30?n.Left:t-r-s<30?n.Right:null})(t.current);o(e)}),[o])}},b=()=>{const e=d().useRef(new Set),[t,r]=d().useState([]);return{handleLoadedItemsChanged:d().useCallback((t=>{var n;(n=e.current,t.some((e=>!n.has(e))))&&(t.forEach((t=>{e.current.add(t)})),r(Array.from(e.current)))}),[]),loadedItems:t}};var p=r(39147),g=r.n(p);const j=e=>{let{className:t,itemsContainerClassName:r,itemsContainerAriaRole:n,scrollBarClassName:o,children:c,setElementRef:a,onEdgeReached:i,onInVisibleItemsChanged:f,renderScrollToLeftButton:_,renderScrollToRightButton:b,throttleTime:p=s}=e;const j=d().useRef(null),C=d().useRef(null),{handleVisibleItemsChanged:O}=(e=>{let{itemsContainerRef:t,scrollBarRef:r,onInVisibleItemsChanged:n}=e;return{handleVisibleItemsChanged:d().useCallback((()=>{var e;if(!n)return;const s=r.current,o=null===(e=t.current)||void 0===e?void 0:e.children;if(!s||!o)return;const l=Array.from(o).reduce(((e,t,r)=>(((e,t)=>{const{scrollLeft:r,offsetWidth:n}=e,{offsetLeft:s,offsetWidth:o}=t;return s>=r&&s+.05*o<=r+n})(s,t)&&e.push(r),e)),[]);n(l)}),[n])}})({scrollBarRef:j,itemsContainerRef:C,onInVisibleItemsChanged:f}),{handleEdgeReached:B}=y({scrollBarRef:j,onEdgeReached:i}),{handleScrollToLeft:R,handleScrollToRight:w}=(e=>{let{scrollBarRef:t,itemsContainerRef:r}=e;const n=d().useCallback((e=>{t.current&&t.current.scroll({behavior:"smooth",top:0,left:e})}),[]),s=d().useCallback((()=>{if(!t.current||!r.current)return;const e=r.current.children;if(!e.length)return;const s=(e=>{let{elements:t,scrollBar:r}=e;const n=r.scrollLeft,s=r.offsetWidth;for(let o=0;o<t.length;o++){const e=t[o],r=e.offsetLeft+e.offsetWidth-n;if(r>0)return n+r-s}return n-s})({elements:e,scrollBar:t.current});n(s)}),[n]),o=d().useCallback((()=>{if(!t.current||!r.current)return;const e=r.current.children;if(!e.length)return;const s=(e=>{let{elements:t,scrollBar:r}=e;const n=r.scrollLeft,s=r.offsetWidth;for(let o=t.length-1;o>=0;o--){const e=t[o].offsetLeft-n;if(e<s)return e+n}return n+s})({elements:e,scrollBar:t.current});n(s)}),[n]);return{handleScrollTo:n,handleScrollToRight:o,handleScrollToLeft:s}})({scrollBarRef:j,itemsContainerRef:C}),v=d().useMemo((()=>m()((()=>{B(),O()}),p)),[O,B,p]);d().useEffect((()=>{O()}),[O]),d().useEffect((()=>{B()}),[B]),d().useEffect((()=>(window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)})),[v]);const N=(0,h.useCallback)((e=>{C.current=e}),[]);return(0,u.jsxs)("div",{ref:a,className:l()(g().carousel,t),"data-tid":"36b81cbf",children:[(0,u.jsx)("div",{ref:j,className:l()(g().scrollBar,o),onScroll:v,children:(0,u.jsx)("div",{ref:N,className:l()(g().itemsContainer,r),role:n,children:c})}),_&&_({handleScroll:R}),b&&b({handleScroll:w})]})};var C=r(84689),O=r(31386),B=r(64054);const R="carousel",w=["totalItemsCount"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const N=(0,B.XM)(R,(e=>{let{totalItemsCount:t}=e;return{totalCount:t||0}}))((e=>{let{totalItemsCount:t}=e,r=(0,O.Z)(e,w);return(0,u.jsx)(j,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,C.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))})),x="\u0432\u0441\u0435\u0433\u043e",L="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451",P="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",k="\u0414\u0430\u043b\u0435\u0435",S="\u041d\u0430\u0437\u0430\u0434";var D=r(49430),E=r.n(D);const T=["className","toLeftButtonClassName","toRightButtonClassName","showButtonsPermanently"];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,C.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A=e=>{let{className:t,toLeftButtonClassName:r,toRightButtonClassName:s,showButtonsPermanently:o}=e,a=(0,O.Z)(e,T);const[i,h]=d().useState([n.Left,n.Right]),_=d().useCallback((e=>{h(e)}),[]);return(0,u.jsx)(N,I(I({},a),{},{className:l()(t,E().carousel,o&&E().carouselWithPermanentButtons),onEdgeReached:_,renderScrollToLeftButton:e=>{let{handleScroll:t}=e;return(0,u.jsx)(f,{onClick:t,className:l()(r,E().toLeftButton,{[E().displayedButton]:!i.includes(n.Left)}),direction:c.Left,"aria-label":S})},renderScrollToRightButton:e=>{let{handleScroll:t}=e;return(0,u.jsx)(f,{onClick:t,className:l()(s,E().toRightButton,{[E().displayedButton]:!i.includes(n.Right)}),direction:c.Right,"aria-label":k})}}))};var M=r(64274),Z=r.n(M);const Q=["itemsContainerClassName","children"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,C.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const H=e=>{let{itemsContainerClassName:t,children:r}=e,n=(0,O.Z)(e,Q);return(0,u.jsx)(A,z(z({},n),{},{itemsContainerClassName:l()(t,Z().itemsContainer),children:r}))};var K=r(92934),J=r(37507),X=r.n(J);const Y={[K.BlocksColorSchemes.Dark]:X().rootDark,[K.BlocksColorSchemes.Light]:X().rootLight,[K.BlocksColorSchemes.Grey]:X().rootLight},G=e=>{let{total:t,link:r,className:n,buttonClassName:s,colorScheme:o=K.BlocksColorSchemes.Light}=e;return(0,u.jsx)("a",{href:r,className:l()(Y[o],n),"data-tid":"7accc49f",children:(0,u.jsxs)("div",{className:l()(X().total,s),children:[(0,u.jsx)("span",{className:X().value,children:t}),(0,u.jsx)("span",{className:X().icon}),(0,u.jsx)("span",{className:X().title,children:x}),(0,u.jsx)("span",{className:X().showAll,children:P})]})})};var q=r(53675),F=r.n(q);const U=e=>{let{className:t,link:r}=e;return(0,u.jsxs)("a",{href:r,className:l()(t,F().showMore),"data-tid":"589548d2",children:[(0,u.jsx)("div",{className:l()(F().arrowButton)}),(0,u.jsx)("div",{className:F().showMoreText,children:L}),(0,u.jsx)("div",{className:F().showAllText,children:P})]})}},37507:function(e){e.exports={root:"styles_root__2HQYT",total:"styles_total__EXzWC",icon:"styles_icon__Tl7TM",rootLight:"styles_rootLight__yjdr6 styles_root__2HQYT",rootDark:"styles_rootDark__zjFgs styles_root__2HQYT",showAll:"styles_showAll__4Qnr1",value:"styles_value__Ok5K_",title:"styles_title__uXbqR"}},49430:function(e){e.exports={carousel:"styles_carousel__EVM2s",displayedButton:"styles_displayedButton__PA6vb",carouselWithPermanentButtons:"styles_carouselWithPermanentButtons__EW5aQ",button:"styles_button__p8WQs",toLeftButton:"styles_toLeftButton__JGwPS styles_button__p8WQs",toRightButton:"styles_toRightButton__P7qf8 styles_button__p8WQs"}},39147:function(e){e.exports={carousel:"styles_carousel__jP9eI",scrollBar:"styles_scrollBar__NTulg",itemsContainer:"styles_itemsContainer__tPx8D"}},58486:function(e){e.exports={root:"styles_root__JJ9PF",text:"styles_text__Y8E8W",icon:"styles_icon__cdKpZ",iconRightDir:"styles_iconRightDir__KZiDL styles_icon__cdKpZ",iconLeftDir:"styles_iconLeftDir__J7R9r styles_icon__cdKpZ"}},64274:function(e){e.exports={itemsContainer:"styles_itemsContainer__50oSx"}},53675:function(e){e.exports={showMore:"styles_showMore__LcNmg",arrowButton:"styles_arrowButton__ueVsX",showMoreText:"styles_showMoreText__9GUD_",showAllText:"styles_showAllText__HpA2H"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/3944-a66b9b226b836e6e.js.map