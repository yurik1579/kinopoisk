(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2801],{68261:function(e,n,t){"use strict";t.d(n,{q:function(){return f}});var i=t(84689),o=t(37667),a=t.n(o),r=t(94302),s=t.n(r),l=t(83320),c=t(6502),u=t(40511),d=t(42908);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const f=a().memo((()=>{const{publicRuntimeConfig:{topBannerHeight:e}}=s()();return(0,d.jsx)(c.m,{params:l.BannersConfig.DESKTOP_TOP_BANNER.params,renderAdfoxComponent:n=>(0,d.jsx)(u.Y,m(m({},l.BannersConfig.DESKTOP_TOP_BANNER),{},{params:n,height:e}))})}))},99465:function(e,n,t){"use strict";t.d(n,{T:function(){return k}});var i=t(84689),o=t(37667),a=t(88211),r=t.n(a),s=t(6502),l=t(83320),c=t(1439),u=t(68129),d=t.n(u);const p="\u0417\u0430\u043a\u0440\u044b\u0442\u044c";var m=t(42908);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const k=e=>{let{className:n}=e;const{0:t,1:i}=(0,o.useState)(!1);return(0,m.jsxs)("div",{suppressHydrationWarning:!0,className:r()(d().root,n,{[d().visible]:t}),"aria-hidden":!0,"data-tid":"d504712e",children:[(0,m.jsx)(s.m,{params:l.BannersConfig.PROMO_POPOVER.params,renderAdfoxComponent:e=>(0,m.jsx)(c.P,v(v({},l.BannersConfig.PROMO_POPOVER),{},{params:e,onRender:()=>i(!0)}))}),(0,m.jsx)("button",{type:"button",className:d().closeButton,onClick:()=>i(!1),"aria-label":p,children:(0,m.jsx)("span",{className:d().closeButtonIcon})})]})}},40511:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var i=t(83320);const o=(0,t(22819).c)(i.TopBanner)},13960:function(e,n,t){"use strict";t.d(n,{I:function(){return s}});var i=t(79933),o=t(53657),a=t(60608);function r(){return(0,o.useSelector)(a.IZ)}function s(e){let{AuthorizedComponent:n,NotAuthorizedComponent:t}=e;return(0,i.Nt)({hocName:"Authorized",SuccessComponent:n,FailedComponent:t,useCondition:r})}},59010:function(e,n,t){"use strict";t.d(n,{P:function(){return k}});var i=t(37667),o=t.n(i),a=t(53657),r=t(48651);const s=e=>{const n=(e=>e[r.F])(e);return n.items[n.items.length-1]};var l=t(88211),c=t.n(l),u=t(80398),d=t(66127),p=t.n(d),m=t(42908);const{logoSquareSvg:f}=u.SOURCES_MAP,v=e=>{let{className:n,onClick:t,notification:a}=e;const r=o().useRef(a);(0,i.useEffect)((()=>{r.current=a}),[a]);const s=a||r.current;return(0,m.jsx)("div",{className:c()(p().root,n,{[p().rootShow]:a}),onClick:t,"data-tid":"2f7f876f",children:s&&(0,m.jsxs)("div",{className:p().inner,children:[(0,m.jsx)("div",{className:p().image,style:{backgroundImage:`url(${f})`}}),(0,m.jsxs)("div",{className:p().content,children:[s.title?(0,m.jsx)("div",{className:p().title,children:s.title}):null,(0,m.jsx)("div",{children:s.text})]})]})})},k=e=>{let{className:n}=e;const t=(0,a.useSelector)(s);return(0,m.jsx)(v,{className:n,notification:t})}},60277:function(e,n,t){"use strict";t.d(n,{a:function(){return m}});t(37667);var i=t(68557),o=t.n(i),a=t(79933),r=t(71404),s=t(39409);var l=t(96750);const c=e=>{const{data:n}=(e=>{let{variables:n,skip:t}=e;return(0,r.a)(s.o,{variables:n,skip:t})})({variables:l.F$,skip:null===e||void 0===e?void 0:e.skip});if(null!==n&&void 0!==n&&n.notification){var t;const{notificationPayloadId:e,payload:i,templateId:o}=null!==(t=null===n||void 0===n?void 0:n.notification)&&void 0!==t?t:{};return{notification:{notificationPayloadId:e,payload:i,templateId:o}}}};var u=t(62944),d=t(42908);const p=o()((()=>Promise.all([t.e(2184),t.e(2779)]).then(t.bind(t,42779)).then((e=>e.NotificationsWithAnalytics)).catch((()=>()=>null))),{loading:()=>null,loadableGenerated:{webpack:()=>[42779]}}),m=(0,a.XJ)((()=>{const{shouldOpenWidgetFromQuery:e}=(0,u.J)(),n=c({skip:e});return null!==n&&void 0!==n&&n.notification?(0,d.jsx)(p,{notification:n.notification}):null}))},96750:function(e,n,t){"use strict";t.d(n,{F$:function(){return a}});var i=t(9620);const o=[i.$H,i.hy,i.d1,i.Q5,i.bC,i.le,i.Pb],a={consumer:i.HA,domain:[],platform:"kp",supportedTemplateIds:o}},62944:function(e,n,t){"use strict";t.d(n,{J:function(){return r}});var i=t(31386),o=t(79337);const a=["isOpenPw","billingFeatureName","target"];function r(){const e=(0,o.useRouter)().query,{isOpenPw:n,billingFeatureName:t,target:r}=e,s="string"===typeof t?t:void 0,l="string"===typeof r?r:void 0;return{queryWithoutPWOptions:(0,i.Z)(e,a),billingFeatureName:s,target:l,shouldOpenWidgetFromQuery:Boolean("1"===n&&l&&s)}}},9620:function(e,n,t){"use strict";t.d(n,{$H:function(){return o},HA:function(){return i},Pb:function(){return c},Q5:function(){return u},Xv:function(){return p},bC:function(){return s},d1:function(){return r},hy:function(){return a},le:function(){return l},zA:function(){return d}});const i="kinopoisk-general",o="nps",a="purchase",r="invoice",s="info_v2",l="accept",c="accept_link",u="switch_v2",d="promocode",p="accept_link"},39409:function(e,n,t){"use strict";t.d(n,{o:function(){return i}});const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Notification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"consumer"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"supportedTemplateIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"domain"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NotificationTargetDomainInput"}}}}},defaultValue:{kind:"ListValue",values:[]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"consumer"},value:{kind:"Variable",name:{kind:"Name",value:"consumer"}}},{kind:"ObjectField",name:{kind:"Name",value:"domain"},value:{kind:"Variable",name:{kind:"Name",value:"domain"}}},{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"supportedTemplateIds"},value:{kind:"Variable",name:{kind:"Name",value:"supportedTemplateIds"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notificationPayloadId"}},{kind:"Field",name:{kind:"Name",value:"templateId"}},{kind:"Field",name:{kind:"Name",value:"payload"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}},29858:function(e,n,t){"use strict";t.d(n,{qD:function(){return i.qD}});var i=t(4474)},4474:function(e,n,t){"use strict";t.d(n,{qD:function(){return v}});var i=t(88211),o=t.n(i),a=t(65124),r=t(6295),s=t.n(r),l=t(42908);const c=e=>{let{className:n,shouldShow:t,previousScrollPosition:i,handleClick:r}=e;return(0,l.jsx)("button",{className:o()(s().root,n,{[s().shown]:t,[s().down]:null!==i}),onClick:r,type:"button","aria-label":a.F.elevatorText,"data-tid":"ed9136fe",children:(0,l.jsx)("span",{className:s().iconWrapper,children:(0,l.jsx)("span",{className:s().icon})})})};var u=t(37667),d=t.n(u),p=t(40147),m=t.n(p),f=t(79933);const v=d().memo((e=>{let{className:n}=e;const{0:t,1:i}=(0,u.useState)(null),{0:o,1:a}=(0,u.useState)(!1),r=(0,u.useCallback)(m()((()=>{null!==t&&t<=window.scrollY&&i(null);const e=window.scrollY>=865;e!==o&&a(e)}),35),[t,o]),s=(0,u.useCallback)((()=>{if(null!==t)return window.scrollTo({top:t}),i(null),void r();i(window.scrollY),window.scrollTo({top:0})}),[t,r]);return(0,f.LI)((()=>{a(window.scrollY>=865)}),[]),(0,f.LI)((()=>(window.addEventListener("scroll",r,{passive:!0}),()=>window.removeEventListener("scroll",r))),[r]),(0,l.jsx)(c,{className:n,shouldShow:o,previousScrollPosition:t,handleClick:s})}))},6295:function(e){e.exports={root:"styles_root__p7NQg",icon:"styles_icon__6tiLC",down:"styles_down__V2jt8",shown:"styles_shown__a2gQE",iconWrapper:"styles_iconWrapper__VsEKC"}},68129:function(e){e.exports={root:"styles_root__hSE6c",visible:"styles_visible__5gJrU",bounce:"styles_bounce__MFag0",closeButton:"styles_closeButton__LEexp",closeButtonIcon:"styles_closeButtonIcon__w69HE"}},66127:function(e){e.exports={root:"styles_root__yEgpj",rootShow:"styles_rootShow__NAB2s",inner:"styles_inner__ntDDG",image:"styles_image__n2pOH",content:"styles_content__EhRUc"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/2801-10335cf312383af1.js.map