(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6599],{57759:function(e,t,n){"use strict";n(88211);var i=n(92934),o=n(68243),r=n.n(o);n(42908);i.ElementColorSchemes.Dark,r().linkDark,i.ElementColorSchemes.Light,r().linkLight,i.ElementColorSchemes.Dark,r().rootDark,i.ElementColorSchemes.Light,r().rootLight},20924:function(e,t,n){"use strict";n.d(t,{H:function(){return S}});var i=n(53657),o=n(39207),r=n(30891),a=n(7277),l=n(45994),s=n(13400),c=n(84689),d=n(32626),u=n(47230),m=n.n(u),v=n(22860);const k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveNotInterested"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notInterested"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieSetNotInterested"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notInterested"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"set"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=e=>{let{movieId:t,isNotInterested:n,mutationUpdater:i,onSetCompleted:o,onRemoveCompleted:r}=e;const[a]=function(e){let{movieId:t,mutationUpdater:n=m(),onCompleted:i=m()}=e;return(0,d.D)(h,{variables:{movieId:t},update(e,t){var i,o,r,a;n(e,null===(i=t.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.notInterested)||void 0===r||null===(a=r.set)||void 0===a?void 0:a.status,{notInterested:{__typename:"WatchStatus_Boolean",value:!0}})},optimisticResponse:y({},v.lO),errorPolicy:"all",onCompleted:i})}({movieId:t,mutationUpdater:i,onCompleted:o}),[l]=function(e){let{movieId:t,mutationUpdater:n=m(),onCompleted:i=m()}=e;return(0,d.D)(k,{variables:{movieId:t},update(e,t){var i,o,r,a;n(e,null===(i=t.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.notInterested)||void 0===r||null===(a=r.remove)||void 0===a?void 0:a.status,{notInterested:{__typename:"WatchStatus_Boolean",value:!1}})},optimisticResponse:f({},v.jO),errorPolicy:"all",onCompleted:i})}({movieId:t,mutationUpdater:i,onCompleted:r}),c=(0,s.h)(a,[]),u=(0,s.h)(l,[]);return[n,n?u:c]},S=function(e){var t,n,s;let c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const d=(0,i.useDispatch)(),u=(0,o.R)(e.__typename),m=u?a.Z.setNotInterestedTvSeries:a.Z.setNotInterestedFilm;return _({movieId:e.id,isNotInterested:Boolean(null===(t=e.userData)||void 0===t||null===(n=t.watchStatuses)||void 0===n||null===(s=n.notInterested)||void 0===s?void 0:s.value),mutationUpdater:(0,l.b)(e),onSetCompleted:c?()=>d((0,r.X)({text:m})):void 0})}},21128:function(e,t,n){"use strict";n.d(t,{J:function(){return _}});var i=n(13400),o=n(84689),r=n(44828);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s=(e,t,n,i,o)=>{t&&e.modify({id:(0,r.u)(n)({id:t}),fields:{userData:e=>"SUCCESS"!==i?e:l(l({},e),{},{voting:l(l({__typename:"Vote"},e.voting),{},{votedAt:null,value:o})})}})};var c=n(32626),d=n(79062),u=n(22860);const m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieSetVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rate"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"set"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}},{kind:"ObjectField",name:{kind:"Name",value:"rate"},value:{kind:"Variable",name:{kind:"Name",value:"rate"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=(e,t)=>{const[n]=function(){const e=(0,d.y)();return(0,c.D)(m,{context:e,optimisticResponse:k({},u.lT),errorPolicy:"all"})}();return(0,i.h)((i=>{e&&t&&n({variables:{movieId:e,rate:i},update(n,o){var r,a,l,c;s(n,e,t,null===(r=o.data)||void 0===r||null===(a=r.movie)||void 0===a||null===(l=a.vote)||void 0===l||null===(c=l.set)||void 0===c?void 0:c.status,i)}})}),[e])},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=(e,t)=>{const[n]=function(){const e=(0,d.y)();return(0,c.D)(f,{context:e,optimisticResponse:b({},u.pj),errorPolicy:"all"})}();return(0,i.h)((()=>{e&&t&&n({variables:{movieId:e},update(n,i){var o,r,a,l;s(n,e,t,null===(o=i.data)||void 0===o||null===(r=o.movie)||void 0===r||null===(a=r.vote)||void 0===a||null===(l=a.remove)||void 0===l?void 0:l.status,null)}})}),[e])},_=(e,t)=>[p(e,t),y(e,t)]},90335:function(e,t,n){"use strict";n.d(t,{X:function(){return f}});var i=n(13400),o=n(84689),r=n(32626),a=n(47230),l=n.n(a),s=n(22860);const c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveWatched"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watched"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var d=n(79062);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieSetWatched"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watched"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"set"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=(e,t,n,o)=>{const[a]=function(e){let{movieId:t,mutationUpdater:n=l(),refetchQueries:i}=e;const o=(0,d.y)();return(0,r.D)(v,{variables:{movieId:t},context:o,update(e,t){var i,o,r,a;n(e,null===(i=t.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.watched)||void 0===r||null===(a=r.set)||void 0===a?void 0:a.status,{watched:{__typename:"WatchStatus_Boolean",value:!0}})},refetchQueries:i,optimisticResponse:p({},s.br),errorPolicy:"all"})}({movieId:e,mutationUpdater:n,refetchQueries:o}),[u]=function(e){let{movieId:t,mutationUpdater:n=l(),refetchQueries:i}=e;const o=(0,d.y)();return(0,r.D)(c,{variables:{movieId:t},context:o,update(e,t){var i,o,r,a;n(e,null===(i=t.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.watched)||void 0===r||null===(a=r.remove)||void 0===a?void 0:a.status,{watched:{__typename:"WatchStatus_Boolean",value:!1}})},refetchQueries:i,optimisticResponse:m({},s.iH),errorPolicy:"all"})}({movieId:e,mutationUpdater:n,refetchQueries:o}),k=(0,i.h)(a,[]),f=(0,i.h)(u,[]);return[t,t?f:k]}},79062:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var i=n(22860),o=n(99199);const r=()=>{const e=(0,o.a)()?i.nm:i.Cn;return{headers:{[i.ur]:e}}}},71366:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var i=n(67905),o=n(41518);const r=(e,t,n,r)=>{const a=e===i.G.WatchList,l=t===i.Y.Remove&&r===o.iM.Yes,s=t===i.Y.Add&&r!==o.iM.Yes;return n&&a&&(l||s)}},45994:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var i=n(84689);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const a=e=>(t,n,i)=>((e,t,n,i)=>{e.modify({id:e.identify(t),fields:{userData:e=>"SUCCESS"!==n?e:r(r({},e),{},{watchStatuses:r(r({},e.watchStatuses),i)})}})})(t,e,n,i)},47600:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var i=n(55330),o=n(45437);function r(e){switch(e){case i.v.MiniSeries:case i.v.TvSeries:case i.v.TvShow:return o.C.TvSeries;case i.v.Film:case i.v.Video:default:return o.C.Film}}},59528:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var i=n(67905);const o=e=>e.some((e=>(null===e||void 0===e?void 0:e.id)===i.G.WatchList))},5672:function(e,t,n){"use strict";n.d(t,{z:function(){return i.z}});var i=n(87469)},85175:function(e,t,n){"use strict";n.d(t,{Db:function(){return i.Db},Di:function(){return i.Di},Dx:function(){return i.Dx},Qk:function(){return i.Qk},V8:function(){return i.V8},sG:function(){return i.sG}});var i=n(17529)},17529:function(e,t,n){"use strict";n.d(t,{Di:function(){return v},Dx:function(){return y.D},sG:function(){return f},jx:function(){return g},wb:function(){return b},Db:function(){return l.Db},Rx:function(){return c},V8:function(){return i.V},IP:function(){return d},Qk:function(){return N},P3:function(){return a}});var i=n(95383),o=n(14208),r=n(27362);const a=e=>{let{votedAt:t}=e;return t?o.utc(t).utcOffset(r.W).format("DD.MM.YYYY HH:mm"):""};var l=n(50353),s=n(11077);const c=e=>{let{value:t,ratingType:n,fractionDigits:i}=e;switch(n){case s.bH.Kinopoisk:case s.bH.Imdb:return(0,l.Db)({value:t,fractionDigits:i});default:return(0,l.rb)({value:t})}},d=e=>{let{value:t,ratingType:n,top250Position:o}=e;switch(n){case s.bH.Kinopoisk:return o?s.EI.KpTop:(0,i.V)({value:t});case s.bH.Imdb:return(0,i.V)({value:t});default:return(0,i.n)({value:t})}},u=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),m=e=>u.format(e).replace(","," "),v=e=>{let{count:t,maxDigits:n=3}=e;return t.toString().length<=n?m(t):`${m(t/1e3)}K`};var k=n(89165),p=n(82441);const f=(e,t,n)=>{if(t.value)return n===s.bH.Kinopoisk?k._.getUrl(p.f.VotesPage,{id:e}):void 0};var h=n(78116);const b=e=>{let{type:t}=e;return h.he[t]};var y=n(18904),_=n(87469);const S={[s.bH.Imdb]:_.z.imdb,[s.bH.WorldwideCritics]:_.z.rottenTomatos,[s.bH.RussianCritics]:_.z.russianCritics,[s.bH.Expectation]:_.z.expectationRatingBlockTitle,[s.bH.ReviewCount]:_.z.positiveReview},g=e=>e?S[e]:void 0;var O=n(47061);const N=e=>{let{mainRating:t,rating:n,positiveReviewPercent:i,positiveReviewTotal:o}=e;const r=[],a=n[s.bH.Imdb];a&&(0,O.W)(a)&&r.push({type:s.bH.Imdb,value:a.value,count:a.count});const l=n[s.bH.WorldwideCritics];l&&(0,O.W)(l)&&l.value&&r.push({type:s.bH.WorldwideCritics,value:l.percent,count:l.count});const c=n[s.bH.Expectation];(null===t||void 0===t?void 0:t.type)!==s.bH.Expectation&&c&&(0,O.W)(c)&&r.push({type:s.bH.Expectation,value:c.value,count:c.count});const d=n[s.bH.ReviewCount];i&&null!==d&&void 0!==d&&d.count&&(0,O.W)(d)&&r.push({type:s.bH.ReviewCount,value:i,count:o||null});const u=n[s.bH.RussianCritics];return u&&(0,O.W)(u)&&r.push({type:s.bH.RussianCritics,value:u.value,count:u.count}),r}},18904:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var i=n(77256),o=n.n(i),r=n(11077),a=n(40327),l=n(87469);const s=(e,t)=>{const n=(0,a.u)(e);switch(t){case r.bH.Kinopoisk:return`${n} ${o()(e,l.z.kinopoiskReviewsCountPlurals[0],l.z.kinopoiskReviewsCountPlurals[1],l.z.kinopoiskReviewsCountPlurals[2])}`;case r.bH.Expectation:return`${n} ${o()(e,l.z.expectationReviewCountPlurals[0],l.z.expectationReviewCountPlurals[1])}`;default:return}}},47061:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});const i=e=>Boolean(e&&e.isActive)},28282:function(e,t,n){"use strict";n.d(t,{X:function(){return i.X}});var i=n(71297)},23343:function(e,t,n){"use strict";n.d(t,{d:function(){return p}});var i=n(37667),o=n.n(i),r=n(88211),a=n.n(r),l=n(47230),s=n.n(l),c=n(64795),d=n(75176),u=n(56738),m=n.n(u),v=n(42908);const k=(e,t)=>{let{title:n,items:i,selectedValues:o,className:r,colorScheme:l=c.ElementColorSchemes.Light,onItemChecked:u=s(),onItemUnchecked:k=s(),beforeDropdownSlot:p,afterDropdownSlot:f,viewVariant:h}=e;return(0,v.jsxs)("div",{ref:t,className:a()(r,m().root,{[m().rootDark]:l===c.ElementColorSchemes.Dark,[m().rootLight]:l===c.ElementColorSchemes.Light}),"data-tid":"aee6a79a",children:[p,n&&(0,v.jsx)("h3",{className:m().title,children:n}),(0,v.jsx)("div",{className:a()(m().itemWrapper,{[m().itemWrapperDark]:l===c.ElementColorSchemes.Dark,[m().itemWrapperLight]:l===c.ElementColorSchemes.Light}),children:i.map((e=>{let{title:t,value:n,link:i}=e;return(0,v.jsx)(d.g,{isActive:o.includes(n),title:t,link:i,value:n,colorScheme:l,onChecked:u,onUnchecked:k,viewVariant:h},n)}))}),f&&(0,v.jsx)("div",{className:m().afterSlot,children:f})]})},p=o().forwardRef(k)},75176:function(e,t,n){"use strict";n.d(t,{g:function(){return k}});var i=n(37667),o=n.n(i),r=n(88211),a=n.n(r),l=n(47230),s=n.n(l),c=n(64795),d=n(65124),u=n(39782),m=n.n(u),v=n(42908);const k=e=>{let{title:t,isActive:n,link:i,value:r,onChecked:l=s(),onUnchecked:u=s(),colorScheme:k=c.ElementColorSchemes.Light,viewVariant:p}=e;const f=o().useCallback((e=>{e.target.checked?l({value:r}):u({value:r})}),[r,l,k]);return(0,v.jsxs)("div",{className:a()(m().root,{[m().rootLight]:k===c.ElementColorSchemes.Light,[m().rootDark]:k===c.ElementColorSchemes.Dark}),"data-tid":"73d68233",children:[(0,v.jsxs)("label",{className:a()(m().item,m().checkboxLabel),children:[(0,v.jsx)("input",{type:"checkbox",className:m().checkbox,checked:n,onChange:f,"aria-label":t}),(0,v.jsx)("span",{className:a()(m().title,{[m().titleRightVariant]:"right"===p}),"aria-hidden":!0,children:(0,v.jsx)("span",{className:a()(m().name,{[m().nameRightVariant]:"right"===p}),children:t})})]}),i&&(0,v.jsx)("a",{href:i,className:m().link,children:d.F.folderLinkAADescription})]})}},71297:function(e,t,n){"use strict";n.d(t,{X:function(){return v}});var i=n(37667),o=n.n(i),r=n(88211),a=n.n(r),l=n(47230),s=n.n(l),c=n(64795),d=n(34683),u=n.n(d),m=n(42908);const v=e=>{let{className:t,title:n,isActive:i,value:r,onChecked:l=s(),onUnchecked:d=s(),colorScheme:v=c.ElementColorSchemes.Light,viewVariant:k="default"}=e;const p=o().useCallback((e=>{e.target.checked?l({value:r}):d({value:r})}),[r,l,v]);return(0,m.jsxs)("label",{className:a()(t,u().root,{[u().rootLight]:v===c.ElementColorSchemes.Light,[u().rootDark]:v===c.ElementColorSchemes.Dark,[u().rootFlatReverse]:"flat-reverse"===k}),"data-tid":"68e7193",children:[(0,m.jsx)("input",{type:"checkbox",className:u().checkbox,checked:i,onChange:p}),(0,m.jsx)("span",{className:u().title,children:n})]})}},37341:function(e,t,n){"use strict";var i=n(21671);n.o(i,"FoldersMenu")&&n.d(t,{FoldersMenu:function(){return i.FoldersMenu}}),n.o(i,"TouchFolders")&&n.d(t,{TouchFolders:function(){return i.TouchFolders}}),n.o(i,"useFolderMenuColorScheme")&&n.d(t,{useFolderMenuColorScheme:function(){return i.useFolderMenuColorScheme}}),n.o(i,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return i.useUserFoldersColorScheme}})},21671:function(e,t,n){"use strict";n.d(t,{FoldersMenu:function(){return i.FoldersMenu},TouchFolders:function(){return i.TouchFolders},useFolderMenuColorScheme:function(){return i.useFolderMenuColorScheme}});var i=n(53094);n.o(i,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return i.useUserFoldersColorScheme}});var o=n(56716);n.o(o,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return o.useUserFoldersColorScheme}})},28856:function(){},56716:function(e,t,n){"use strict";var i=n(28856);n.o(i,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return i.useUserFoldersColorScheme}})},36614:function(e,t,n){"use strict";n.d(t,{Lt:function(){return w},ck:function(){return S}});var i=n(37667),o=n.n(i),r=n(88211),a=n.n(r),l=n(47230),s=n.n(l),c=n(77256),d=n.n(c),u=n(79933),m=n(23343),v=n(92934),k=n(35701),p=n(85311),f=n(91043);const h="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0430\u043f\u043a\u0443",b="\u043f\u0430\u043f\u043a\u0435",y="\u043f\u0430\u043f\u043a\u0430\u0445";var _=n(60106);const S=()=>(0,_.tv)()===v.BlocksColorSchemes.Dark?v.ElementColorSchemes.Dark:v.ElementColorSchemes.Light;const g=[],O=[];var N=n(27985),F=n.n(N),D=n(42908);const j={[v.ElementColorSchemes.Dark]:k.u.Dark,[v.ElementColorSchemes.Light]:k.u.Light},w=e=>{let{className:t,dropdownMenuClassName:n,buttonClassName:i,colorScheme:r=v.ElementColorSchemes.Light,folders:l=g,selectedFoldersIds:c=O,tooltipText:k="",onDropdownButtonClick:_=s(),onFolderSelect:S=s(),onFolderUnselect:N=s(),setElementRef:w,beforeDropdownSlot:C,afterDropdownSlot:P,dropdownButtonElement:I,viewVariant:x}=e;const{isOpen:V,openerRef:L,elementRef:E,handleToggle:T}=(0,u.xN)(),U=o().useMemo((()=>l.filter((e=>Boolean(e.name))).map((e=>({title:e.name,value:e.id,link:e.link})))),[l]),R=(0,u.rK)([T,_]),{handleItemChecked:M,handleItemUnchecked:W}=(e=>{let{onFolderSelect:t,onFolderUnselect:n}=e;return{handleItemChecked:o().useCallback((e=>{let{value:n}=e;t({folderId:n})}),[t]),handleItemUnchecked:o().useCallback((e=>{let{value:t}=e;n({folderId:t})}),[t])}})({onFolderSelect:S,onFolderUnselect:N}),H=c.length>0,A=o().useMemo((()=>c.length?`\u0412 ${c.length} ${d()(c.length,b,y)}`:h),[c.length]);return(0,D.jsxs)("div",{ref:w,className:a()(t,F().root),"data-tid":"4a36b453",children:[!I&&(0,D.jsx)(p.z,{type:"button",buttonType:f.L.Primary,colorScheme:j[r],onClick:R,title:h,"aria-label":h,ref:L,isFullWidth:!0,size:f.q.size48,iconLeft:(0,D.jsx)("span",{className:a()(F().icon,{[F().iconLight]:r===v.ElementColorSchemes.Light,[F().iconDark]:r===v.ElementColorSchemes.Dark,[F().iconActive]:H})}),children:A}),I&&(0,D.jsx)(I,{ref:L,onClick:R,className:i,"aria-expanded":V}),Boolean(U.length)&&V&&(0,D.jsx)(m.d,{ref:E,colorScheme:r,className:a()(F().dropdownMenu,n),title:k,items:U,selectedValues:c,onItemChecked:M,onItemUnchecked:W,beforeDropdownSlot:C,afterDropdownSlot:P,viewVariant:x})]})}},53094:function(e,t,n){"use strict";n.d(t,{FoldersMenu:function(){return i.Lt},TouchFolders:function(){return r.V},useFolderMenuColorScheme:function(){return i.ck},useUserFoldersColorScheme:function(){return o.useUserFoldersColorScheme}});var i=n(36614),o=n(15080);n.o(o,"TouchFolders")&&n.d(t,{TouchFolders:function(){return o.TouchFolders}});var r=n(65274);n(75400)},75400:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var i=n(28282),o=n(42908);const r=e=>{let{id:t,title:n,isActive:r,onChecked:a,onUnchecked:l}=e;return(0,o.jsx)("div",{"data-tid":"744a0afe",children:(0,o.jsx)(i.X,{viewVariant:"flat-reverse",isActive:r,title:n,value:t,onChecked:e=>{let{value:t}=e;return a(t)},onUnchecked:e=>{let{value:t}=e;return l(t)}})})}},65274:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var i=n(75400),o=n(42908);const r=e=>{let{folders:t,selectedFoldersIds:n,onSelectFolder:r,onUnselectFolder:a}=e;return(0,o.jsx)("div",{"data-tid":"d1bd06f3",children:t.map((e=>{let{name:t,id:l}=e;return(0,o.jsx)(i.K,{id:l,isActive:n.includes(l),title:t,onChecked:r,onUnchecked:a},l)}))})}},36478:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var i=n(35701),o=n(60106),r=n(92934);const a=()=>(0,o.tv)()===r.BlocksColorSchemes.Dark?i.u.Dark:i.u.Light},15080:function(e,t,n){"use strict";n.d(t,{useUserFoldersColorScheme:function(){return i.g}});n(57759);var i=n(36478),o=n(48734);n.o(o,"TouchFolders")&&n.d(t,{TouchFolders:function(){return o.TouchFolders}})},48734:function(e,t,n){"use strict";var i=n(91400);n.o(i,"TouchFolders")&&n.d(t,{TouchFolders:function(){return i.TouchFolders}})},91400:function(){},56738:function(e){e.exports={root:"styles_root__s6G6z",title:"styles_title__464iQ",itemWrapper:"styles_itemWrapper__gbOgm",itemWrapperLight:"styles_itemWrapperLight__BqMCR",itemWrapperDark:"styles_itemWrapperDark__OMYna",rootLight:"styles_rootLight__0Yhua",rootDark:"styles_rootDark__WKZA5",afterSlot:"styles_afterSlot__Az2ZX"}},39782:function(e){e.exports={root:"styles_root___EfwY",checkboxLabel:"styles_checkboxLabel___gN3_",checkbox:"styles_checkbox__rAcqd",title:"styles_title__mZ3iq",titleRightVariant:"styles_titleRightVariant__4NGVv",name:"styles_name__2PeJy",nameRightVariant:"styles_nameRightVariant__bsguv",rootLight:"styles_rootLight__GhYxn",link:"styles_link__MqFwj",rootDark:"styles_rootDark__1BdcM"}},34683:function(e){e.exports={root:"styles_root__R_6Vd",checkbox:"styles_checkbox__KthfQ",title:"styles_title__RILeC",rootLight:"styles_rootLight__jdGbE",rootDark:"styles_rootDark__sE7He",rootFlatReverse:"styles_rootFlatReverse__Bsm1g"}},27985:function(e){e.exports={root:"styles_root__g0CT9",dropdownMenu:"styles_dropdownMenu__WmL72",listToWatchButton:"styles_listToWatchButton__N_ywG",dropdownButton:"styles_dropdownButton__VTP8Z",isActive:"styles_isActive__OlMfo",buttonLight:"styles_buttonLight__NVW98",buttonDark:"styles_buttonDark__Yc9nb",icon:"styles_icon__Hlkbg",iconLight:"styles_iconLight__85heB",iconDark:"styles_iconDark__iqdBV",iconActive:"styles_iconActive__AG7bj"}},68243:function(e){e.exports={root:"styles_root__dZcuU",rootLight:"styles_rootLight__C8Tx2 styles_root__dZcuU",rootDark:"styles_rootDark__DGVpw styles_root__dZcuU",link:"styles_link___yiZO",linkLight:"styles_linkLight__etoyZ",linkDark:"styles_linkDark__MhXy4",userFolders:"styles_userFolders__A0UEO",userFolder:"styles_userFolder__6Kr3n"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/6599-54125b326581d6c4.js.map