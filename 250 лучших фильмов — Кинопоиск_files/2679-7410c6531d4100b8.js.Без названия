(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2679],{21821:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});n(37667);var o=n(33308),i=n(47600),a=n(84578),s=n.n(a),r=n(42908);const l=e=>{let{mainTitleSlot:t,secondaryTitleSlot:n,additionalSlot:a,availabilityAnnounceSlot:l,url:c,isClientRoutingEnabled:d,entityType:u,movieId:m,onMainTitleMouseEnter:_,onMainTitleMouseLeave:v}=e;return(0,r.jsxs)(o.A,{routeName:(0,i.F)(u),params:{id:String(m)},href:c,serverRouting:!d,prefetch:!1,className:s().link,children:[(0,r.jsx)("div",{className:s().mainInfo,onMouseEnter:_,onMouseLeave:v,"data-tid":"eb1cb4b8",children:t}),n,a,l]})}},84051:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});n(37667);var o=n(88211),i=n.n(o),a=n(65024),s=n.n(a),r=n(42908);const l=e=>{let{title:t,isActive:n,isSmall:o,additional:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:i()(s().mainTitle,{[s().mainTitleSmall]:o,[s().activeMovieTittle]:n}),"data-tid":"4502216a",children:t}),!o&&!!a&&(0,r.jsx)("span",{className:i()(s().yearsWithType,{[s().activeMovieYearsWithType]:n}),"data-tid":"4502216a",children:`(${a})`})]})}},41808:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});n(37667);var o=n(33092),i=n(84051),a=n(88211),s=n.n(a),r=n(91030),l=n(47600),c=n(91046),d=n.n(c),u=n(42908);const m=e=>{let{mainTitleSlot:t,secondaryTitleSlot:n,factsSlot:o,availabilityAnnounceSlot:i,className:a,url:c,isClientRoutingEnabled:m,movieId:_,entityType:v}=e;return(0,u.jsx)("div",{className:s()(a,d().root),"data-tid":"e0a0f967",children:(0,u.jsxs)(r.A,{routeName:(0,l.F)(v),params:{id:String(_)},href:c,serverRouting:!m,prefetch:!1,className:d().link,children:[(0,u.jsx)("div",{className:s()(d().mainInfo),children:t}),n,o,i]})})};var _=n(38528),v=n(48913),p=n(66277),y=n(94089),f=n.n(y);const h=e=>{var t;let{className:n,productionYear:a,mainTitle:s,startYear:r,endYear:l,url:c,secondaryTitle:d,isActive:y=!1,participations:h,notices:b,ratingPosition:k,countries:N,genres:g,movieType:j,movieId:O,entityType:S,isClientRoutingEnabled:x}=e;const w=(0,o.hb)({start:r,end:l,delimiter:_.Py});let T=(0,p.d)([j,w||a]);T=T[0]?T[0].toUpperCase()+T.slice(1):"";const P=h?(0,p.d)(h):void 0,C=b?(0,p.d)(b):void 0;let V=(0,p.d)([P,C]);V=V||(0,v.d)([N&&null!==(t=N[0])&&void 0!==t&&t.name?N[0].name:void 0,g&&g[0]?g[0]:void 0]);const I=k&&s?`${k}. ${s}`:s;return(0,u.jsx)(m,{url:c,className:n,movieId:O,entityType:S,isClientRoutingEnabled:x,mainTitleSlot:(0,u.jsx)(i.U,{isSmall:!0,isActive:y,title:I}),secondaryTitleSlot:(0,u.jsxs)("div",{className:f().secondaryTitleSlot,children:[d&&(0,u.jsx)("span",{className:f().secondaryTitle,children:d}),T&&(0,u.jsxs)("span",{className:f().secondaryText,children:[d&&(0,u.jsxs)("span",{children:[" ,"," "]}),T]})]}),factsSlot:V?(0,u.jsx)("div",{className:f().tertiaryInfo,"data-tid":"f2dda82a",children:V}):null,availabilityAnnounceSlot:null})}},93962:function(e,t,n){"use strict";n.d(t,{o:function(){return b}});var o=n(84689),i=(n(37667),n(88211)),a=n.n(i),s=n(16144),r=n(71577),l=n(428),c=n(91030),d=n(47600),u=n(15705),m=n.n(u),_=n(29704),v=n(54462),p=n(84701);var y=n(42908);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const b=e=>{let{viewportSize:t,url:n,className:o,avatarBaseUrl:i,fallbackImageUrl:u,title:f,rating:b,posterSize:k,copyrightHolderLogoBaseUrl:N,withTrailer:g,onClick:j,lazyLoad:O=!1,movieId:S,entityType:x,isClientRoutingEnabled:w}=e;const T=t===s.ViewportSizes.Small,P=g?void 0:n,C=(0,_.F)({baseUrl:i,fallbackUrl:u,viewportSize:t,posterSize:k}),V=(e=>{let{baseUrl:t}=e;return t?(0,v.Q)(t,{mds:{x1:p.b.w140h210,x2:p.b.w140h210}}):null})({baseUrl:N});return(0,y.jsxs)(c.A,{routeName:(0,d.F)(x),params:{id:S},href:P,serverRouting:!w,prefetch:!1,onClick:g?j:void 0,className:a()(o,m().root,g&&m().trailerButton),"aria-hidden":!0,tabIndex:-1,children:[(0,y.jsx)(r.E,h(h({},C),{},{className:a()(m().image,T&&m().imageSmall,{[m().mediumSizeType]:"medium"===k,[m().largeSizeType]:"large"===k}),nativeLazyLoad:O,alt:f})),b&&(0,y.jsx)(l.m,{rating:b,className:m().rating}),V&&(0,y.jsx)(r.E,h({className:m().rightholderLogo,nativeLazyLoad:O},V))]})}},13948:function(e,t,n){"use strict";n.d(t,{d:function(){return v}});n(37667);var o=n(88211),i=n.n(o),a=n(85175),s=n(5672),r=n(11077),l=n(9410),c=n(49157),d=n(23816),u=n.n(d);const m={[r.co.Negative]:u().kinopoiskValueNegative,[r.co.Positive]:u().kinopoiskValuePositive,[r.co.Neutral]:u().kinopoiskValueNeutral,[r.co.Unknown]:u().kinopoiskValueNeutral};var _=n(42908);const v=e=>{let{kinopoiskValue:t,kinopoiskCount:n,top250Position:o,viewVariant:d="row"}=e;const v=(0,a.V8)({value:t||null}),p=(0,a.Db)({value:t||null,fractionDigits:1}),y=(0,a.Di)({count:n||0,maxDigits:6});if(!t&&n)return(0,_.jsx)("div",{className:u().empty,"data-tid":"98b770b",children:"\u2014"});const f=Boolean(o);return(0,_.jsx)(_.Fragment,{children:Boolean(t&&n)&&(0,_.jsxs)("div",{className:i()(u().kinopoisk,{[u().column]:"column"===d}),"data-tid":"98b770b",children:[(0,_.jsxs)("div",{className:u().kinopoiskValueBlock,children:[f&&(0,_.jsx)("span",{className:u().leftLeaf}),(0,_.jsx)(c.W,{children:(0,l.R)([s.z.kinopoiskRatingFull(p),f?s.z.top250:""])}),(0,_.jsx)("span",{className:i()(m[v],{[u().top250Type]:f}),"aria-hidden":!0,children:p}),f&&(0,_.jsx)("span",{className:u().rightLeaf})]}),(0,_.jsx)(c.W,{children:(0,a.Dx)(null!==n&&void 0!==n?n:0,r.bH.Kinopoisk)}),(0,_.jsx)("span",{className:u().kinopoiskCount,"aria-hidden":!0,children:y})]})})}},97164:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});n(37667);var o=n(88211),i=n.n(o),a=n(7562),s=n(22659),r=n.n(s),l=n(42908);const c=e=>{let{className:t,isPlannedToWatch:n,onPlannedToWatch:o}=e;return(0,l.jsx)("div",{className:i()(t,r().root),"data-tid":"6066ff66",children:(0,l.jsx)(a.n,{isActive:n,onClickPlannedToWatch:o,isSmall:!0})})}},82308:function(e,t,n){"use strict";n.d(t,{A:function(){return V}});var o=n(37667),i=n.n(o),a=n(88211),s=n.n(a),r=n(7562),l=n(84689),c=n(31386),d=n(37341),u=n(42584),m=n(74299),_=n(42908);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=(0,o.forwardRef)(((e,t)=>(0,_.jsx)(m.B,p(p({ref:t},e),{},{viewVariant:"horizontal"}))));var f=n(63130),h=n.n(f);const b=["isNotInterested","isWatched","onNotInterested","onWatched","isCanBeWatched"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g=e=>{let{isNotInterested:t,isWatched:n,onNotInterested:o,onWatched:i,isCanBeWatched:a}=e,r=(0,c.Z)(e,b);return(0,_.jsx)(d.FoldersMenu,N(N({},r),{},{dropdownButtonElement:y,dropdownMenuClassName:h().dropdownMenu,beforeDropdownSlot:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:h().buttonsContainer,"data-tid":"42a95a46",children:[(0,_.jsxs)("button",{type:"button",className:h().listButton,onClick:o,children:[(0,_.jsx)("span",{className:s()(h().notInterested,t&&h().active)}),u.F.notInterested]}),a&&(0,_.jsxs)("button",{type:"button",className:h().listButton,onClick:i,children:[(0,_.jsx)("span",{className:s()(h().watched,n&&h().active)}),u.F.watched]})]}),(0,_.jsx)("div",{className:h().delimiter,"data-tid":"42a95a46"})]}),viewVariant:"right"}))};var j=n(79933),O=n(5672);var S=n(33359),x=n.n(S);class w extends i().PureComponent{constructor(e){super(e),(0,l.Z)(this,"rateMovieButtonRef",i().createRef()),(0,l.Z)(this,"renderOpenedVoting",(e=>{const{hoveredValue:t}=this.state,{votingClassName:n}=this.props,o=t&&t>=7,i=t&&t<=4;return(0,_.jsxs)("div",{className:s()(x().openedButton,n,"ignore-react-onclickoutside"),"data-tid":"5b23305b",children:[(0,_.jsx)("div",{className:s()(x().votingChoice),children:Array.from({length:10}).map(((n,a)=>(0,_.jsx)("button",{type:"button",className:s()(x().choiceStar,{[x().choiceStarHighlightedPositive]:Number(t)>=a+1&&o||!1,[x().choiceStarHighlightedNegative]:Number(t)>=a+1&&i||!1,[x().choiceStarHighlightedNeutral]:Number(t)>=a+1&&!o&&!i}),onMouseEnter:this.handleChoiceHover(a+1),onMouseLeave:this.handleChoiceHover(null),onClick:this.handleChoiceClick(a+1,e),"aria-label":O.z.userRating(a+1),"data-tid":"5b23305b"},`star-${a+1}`)))}),(0,_.jsx)("div",{className:x().separator}),t?(0,_.jsx)("span",{className:s()(x().hoveredValue,{[x().valuePositive]:o,[x().valueNegative]:i}),children:t}):(0,_.jsx)("button",{type:"button",className:x().close,onClick:()=>{var t;null===(t=this.rateMovieButtonRef.current)||void 0===t||t.focus(),e()},"aria-label":O.z.cancelRateChoice})]})})),(0,l.Z)(this,"renderClosedVoting",((e,t)=>{const{isScored:n,value:o,buttonClassName:i,voteText:a,onVoteDelete:r}=this.props,{isClosedButtonHovered:l}=this.state,c=n&&Number(o)>=7,d=n&&Number(o)<=4,u=n&&l;return(0,_.jsxs)(_.Fragment,{children:[u&&(0,_.jsx)("div",{className:x().tooltip,"data-tid":"5b23305b",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c\xa0\u043e\u0446\u0435\u043d\u043a\u0443"}),(0,_.jsxs)("button",{ref:this.rateMovieButtonRef,type:"button",className:s()(x().closedButton,i,{[x().buttonPositive]:c,[x().buttonNegative]:d,[x().buttonNeutral]:!c&&!d&&n}),onClick:u?r:e,onMouseEnter:this.handleClosedButtonHover(!0),onMouseLeave:this.handleClosedButtonHover(!1),"aria-label":n?O.z.changeRatingVote(Number(o)):O.z.rateMovie,"aria-expanded":t,"data-tid":"5b23305b",children:[u&&(0,_.jsx)("div",{className:x().deleteWrapper,children:(0,_.jsx)("i",{className:x().delete})}),!n&&(0,_.jsx)("i",{className:x().star}),!n&&Boolean(a)&&(0,_.jsx)("span",{className:x().textValue,children:a}),n&&(0,_.jsx)("span",{className:s()(x().value,u&&x().valueHidden),children:o})]})]})})),(0,l.Z)(this,"handleChoiceClick",((e,t)=>()=>{var n;const{onVote:o}=this.props;o&&o(e),this.setState({hoveredValue:null}),null===(n=this.rateMovieButtonRef.current)||void 0===n||n.focus(),t()})),(0,l.Z)(this,"handleChoiceHover",(e=>()=>this.setState({hoveredValue:e}))),(0,l.Z)(this,"handleClosedButtonHover",(e=>()=>this.setState({isClosedButtonHovered:e}))),this.state={hoveredValue:null,isClosedButtonHovered:!1}}render(){const{className:e}=this.props;return(0,_.jsx)("div",{className:s()(x().root,e),"data-tid":"4bac8177",children:(0,_.jsx)(j.u,{children:(e,t)=>(0,_.jsxs)(_.Fragment,{children:[this.renderClosedVoting(e,t),t&&this.renderOpenedVoting(e)]})})})}}var T="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0430\u043f\u043a\u0443",P=n(63011),C=n.n(P);const V=e=>{let{isRatingActive:t,className:n,folders:o,selectedFoldersIds:i,voteText:a,hasUserRating:l,ratingValue:c,dropdownMenuClassName:d,isPlannedToWatch:u,onPlannedToWatch:m,onDropdownButtonClick:v,onFolderSelect:p,onFolderUnselect:y,onVote:f,onVoteDelete:h,isWatched:b,isNotInterested:k,onWatched:N,onNotInterested:j,isCanBeWatched:O}=e;return(0,_.jsxs)("div",{className:s()(C().root,n),"data-tid":"5f28aaab",children:[(0,_.jsx)(r.n,{className:C().plannedToWatch,isActive:u,onClickPlannedToWatch:m}),t&&(0,_.jsx)(w,{value:c,isScored:l,voteText:a,onVote:f,onVoteDelete:h,buttonClassName:s()(C().movieRatingButton),className:C().movieRatingVotingBar}),(0,_.jsx)(g,{folders:o,selectedFoldersIds:i,dropdownMenuClassName:d,onDropdownButtonClick:v,onFolderUnselect:y,onFolderSelect:p,buttonClassName:C().foldersButtons,isWatched:b,isNotInterested:k,onWatched:N,onNotInterested:j,isCanBeWatched:O,tooltipText:T})]})}},7562:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});n(37667);var o=n(88211),i=n.n(o),a=n(42584),s=n(64999),r=n.n(s),l=n(42908);const c=e=>{let{className:t,isActive:n,onClickPlannedToWatch:o,isSmall:s}=e;return(0,l.jsxs)("button",{type:"button",onClick:o,className:i()(t,r().button,{[r().active]:n,[r().buttonSmall]:s}),"data-tid":"bcbcc29f",children:[(0,l.jsx)("span",{className:i()(r().icon,{[r().active]:n,[r().iconSmall]:s})}),s?null:a.F.plannedToWatch]})}},74299:function(e,t,n){"use strict";n.d(t,{B:function(){return p}});var o=n(84689),i=n(31386),a=n(88211),s=n.n(a),r=n(37667),l=n(42584),c=n(37313),d=n.n(c),u=n(42908);const m=["onClick","className","viewVariant","isSmall"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=(0,r.forwardRef)(((e,t)=>{let{onClick:n,className:o,viewVariant:a,isSmall:r}=e,c=(0,i.Z)(e,m);return(0,u.jsx)("button",v(v({},c),{},{ref:t,type:"button",onClick:n,className:s()(o,d().button,{[d().vertical]:"vertical"===a,[d().isSmall]:r}),"aria-label":l.F.more,title:l.F.more,"data-tid":"1a531fb8"}))}))},32669:function(e,t,n){"use strict";n.d(t,{T:function(){return v}});var o=n(37667),i=n(88211),a=n.n(i),s=n(47230),r=n.n(s),l=n(94919),c=n(79933),d=n(16144),u=n(39220),m=n.n(u),_=n(42908);const v=e=>{let{items:t,selectedValue:n,className:i,dropdownClassName:s,viewportSize:u,onSelectItem:v=r(),defaultCaption:p,disable:y}=e;const{isOpen:f,openerRef:h,elementRef:b,handleToggle:k}=(0,c.xN)(),N=(0,o.useMemo)((()=>n?t.find((e=>{let{value:t}=e;return t===n})):void 0),[t,n]),g=(0,o.useMemo)((()=>[n]),[n]),j=u===d.ViewportSizes.Small,O=(0,o.useCallback)((e=>{y||(k(),v(e))}),[v,y]);return(0,_.jsxs)("div",{className:a()(m().root,i,{[m().rootSmall]:j}),"data-tid":"57a69acb",children:[(0,_.jsxs)("button",{type:"button",ref:h,className:a()(m().dropdownButton,{[m().dropdownButtonSmall]:j}),onClick:k,children:[(0,_.jsx)("span",{className:a()(m().selectedItem,{[m().selectedItemSmall]:j}),children:(null===N||void 0===N?void 0:N.title)||p}),(0,_.jsx)("span",{className:a()(m().arrowIcon,{[m().arrowIconSmall]:j,[m().arrowIconOpened]:f})})]}),f&&(0,_.jsx)(l.o,{ref:b,items:t,selectedValues:g,onItemChecked:O,onItemUnchecked:O,className:a()(m().dropdown,s)})]})}},74568:function(e,t,n){"use strict";n.d(t,{J:function(){return v}});n(37667);var o=n(88211),i=n.n(o),a=n(47230),s=n.n(a),r=n(77256),l=n.n(r),c=n(91030),d=n(42584),u=n(6410),m=n.n(u),_=n(42908);const v=e=>{let{title:t,plural:n,count:o,active:a,onClick:r,className:u,disabled:v,loading:p,watchedCount:y,showWatchedCount:f=!0,mode:h="button",query:b,routerParams:k,routeName:N}=e;const g=(Boolean(o)||0===o)&&!p;let j=`${o}${n?`\xa0${n}`:""}`;f&&y&&(j=`${o}\xa0(${y}\xa0${l()(y,d.F.watchedForm1,d.F.watchedForm2,d.F.watchedForm3)})`);const O=(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{className:m().title,children:t}),(0,_.jsx)("span",{className:i()(m().subtitle,p&&m().loadingSubtitle),children:g&&(0,_.jsx)(_.Fragment,{children:j})})]}),S=i()(m().root,u,{[m().rootActive]:a,[m().rootDisable]:v});return"link"===h&&N?(0,_.jsx)(c.Q,{routeName:N,className:S,query:b,params:k,prefetch:!1,shallow:!0,children:O}):(0,_.jsx)("button",{type:"button",className:S,onClick:v?s():r,"data-tid":"9fd92bab",children:O})}},98621:function(e,t,n){"use strict";n.d(t,{Q:function(){return b}});var o=n(37667),i=n(88211),a=n.n(i),s=n(47230),r=n.n(s),l=n(8675),c=n(16144),d=n(37341),u=n(74299),m=n(42584),_=n(4911),v=n(32574),p=n(97493),y=n(26052),f=n.n(y),h=n(42908);const b=e=>{let{className:t,mainTitle:n,additionalTitle:i,imgSrcSet:s,isNotInterested:y,isWatched:b,isPlannedToWatch:k,onVoteChange:N,onVoteRemove:g,initialVote:j,onNotInterested:O,onPlannedToWatch:S,onTrailerClick:x,folders:w,onSelectFolder:T=r(),onUnselectFolder:P=r(),selectedFoldersIds:C,onWatched:V,isRatingActive:I,isCanBeWatched:F,onAddToFoldersClick:B,showTrailerButton:R}=e;const{0:D,1:M}=(0,o.useState)(!1),{0:W,1:A}=(0,o.useState)(!1),{0:E,1:z}=(0,o.useState)(!1),L=Boolean(j),G=(0,l.n)()===c.ViewportSizes.Small;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.B,{className:t,onClick:()=>M(!0),isSmall:G}),D&&(0,h.jsxs)(v.n,{imgSrcSet:s,mainTitle:n,additionalTitle:i,onCloseModal:()=>M(!1),children:[R&&(0,h.jsx)(p.B,{onClick:x,text:m.F.trailer,icon:(0,h.jsx)("span",{className:f().trailer})}),R&&(0,h.jsx)("div",{className:f().delimiter,"data-tid":"bc57d9ab"}),(0,h.jsx)(p.B,{text:m.F.plannedToWatch,onClick:S,icon:(0,h.jsx)("span",{className:a()(f().plannedToWatch,k&&f().active)})}),I&&(0,h.jsx)(p.B,{text:L?m.F.rated+j:m.F.rate,onClick:()=>A(!0),icon:(0,h.jsx)("span",{className:a()(f().rate,L&&f().active)})}),(0,h.jsx)(p.B,{onClick:()=>{B&&B(),z(!0)},text:m.F.addToFolder,icon:(0,h.jsx)("span",{className:f().addToFolder})}),(0,h.jsx)("div",{className:f().delimiter,"data-tid":"bc57d9ab"}),(0,h.jsx)(p.B,{text:m.F.notInterested,onClick:O,icon:(0,h.jsx)("span",{className:a()(f().notInterested,y&&f().active)})}),F&&(0,h.jsx)(p.B,{text:m.F.watched,onClick:V,icon:(0,h.jsx)("span",{className:a()(f().watched,b&&f().active)})})]}),W&&(0,h.jsx)(_.O,{onCloseModal:()=>A(!1),initialVote:j,mainTitle:n,additionalTitle:i,imgSrcSet:s,onVoteChange:N,onVoteRemove:g}),E&&w.length>0&&(0,h.jsx)(v.n,{onCloseModal:()=>z(!1),mainTitle:m.F.addToFolder,additionalTitle:n,imgSrcSet:s,children:(0,h.jsx)("div",{className:f().foldersModalContent,"data-tid":"bc57d9ab",children:(0,h.jsx)(d.TouchFolders,{folders:w,onSelectFolder:T,onUnselectFolder:P,selectedFoldersIds:C})})})]})}},24563:function(e,t,n){"use strict";n.d(t,{u:function(){return p}});n(37667);var o=n(88211),i=n.n(o),a=n(7277),s=n(13872),r=n.n(s),l=n(42908);const c=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:i()(t,r().root),"data-tid":"6cdf266f",children:a.Z.tickets})};var d=n(5129),u=n.n(d);const m=e=>{let{textToDisplay:t,originalOffer:n,isPurchased:o,className:a}=e;return(0,l.jsxs)("div",{className:i()(a,u().root,{[u().purchasedMovie]:o}),"data-tid":"97a88caf",children:[t,n&&n!==t&&(0,l.jsx)("span",{className:u().originalOffer,children:n})]})};var _=n(21151),v=n.n(_);const p=e=>{let{isAvailableOnline:t,buttonText:n,isPurchased:o,originalButtonText:a,isTicketsAvailable:s,availabilityAnnounce:r,className:d}=e;return(0,l.jsx)("div",{className:i()(v().captions,d),"data-tid":"53dfd722",children:r?(0,l.jsx)("span",{className:v().availabilityAnnounce,"data-tid":"7528fa70",children:r}):t&&n?(0,l.jsx)(m,{textToDisplay:n,originalOffer:a||void 0,isPurchased:o}):s?(0,l.jsx)(c,{}):(0,l.jsx)(l.Fragment,{})})}},97493:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});n(37667);var o=n(49659),i=n.n(o),a=n(42908);const s=e=>{let{text:t,icon:n,onClick:o}=e;return(0,a.jsxs)("button",{type:"button",onClick:o,className:i().root,"data-tid":"5fc9a3c2",children:[n&&(0,a.jsx)("span",{className:i().icon,children:n}),(0,a.jsx)("span",{className:i().text,children:t})]})}},32574:function(e,t,n){"use strict";n.d(t,{n:function(){return p}});var o=n(84689),i=(n(37667),n(47474)),a=n(79933),s=n(71577),r=n(16e3),l=n.n(r),c=n(42908);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=e=>{let{mainTitle:t,additionalTitle:n,imgSrcSet:o,onCloseModal:a,children:r}=e;return(0,c.jsx)(i.Lh,{onCloseModal:a,header:(0,c.jsxs)("div",{className:l().headerContainer,children:[o&&(0,c.jsx)(s.E,u(u({className:l().poster},o),{},{alt:""})),(0,c.jsxs)("div",{className:l().titleContainer,children:[(0,c.jsx)("div",{className:l().mainTitle,children:t}),n&&(0,c.jsx)("div",{className:l().additionalTitle,children:n})]})]}),children:r})};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=e=>(0,c.jsx)(i.Y0,{children:t=>t&&(0,c.jsx)(a.h_,{container:t,children:(0,c.jsx)(m,v({},e))})})},4911:function(e,t,n){"use strict";n.d(t,{O:function(){return w}});var o=n(37667),i=n(47230),a=n.n(i),s=n(99915),r=n.n(s),l=n(8844),c=n(7277),d=n(32574),u=n(88211),m=n.n(u),_=n(5672),v=n(22860),p=n(38311),y=n.n(p),f=n(42908);const h=e=>{let{className:t,currentVoteValue:n=-1,onVote:i=a(),renderCustomIcon:s}=e;const r=(0,o.useRef)(null),l=(0,o.useCallback)((e=>{var t,n;const o=(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.offsetLeft)||0,a=(null===r||void 0===r||null===(n=r.current)||void 0===n?void 0:n.clientWidth)||0,s=e.touches[0].clientX,l=Math.max(v.rM,Math.min(v.Ob,v.rM+Math.floor(v.Ob/a*(s-o))));i(l)}),[i]);return(0,f.jsx)("div",{className:m()(t,y().touchRatingVote),"data-tid":"339b4faf",children:(0,f.jsx)("div",{className:y().starsContaner,onTouchMove:l,ref:r,children:[...Array(v.Ob)].map(((e,t)=>{const o=t+1;return(0,f.jsx)("button",{type:"button",role:"radio",className:y().voteButton,"aria-label":_.z.userRating(o),"aria-checked":o===n,onClick:()=>i(o),"data-tid":"bc249eea",children:(null===s||void 0===s?void 0:s({isFilled:t<n}))||(0,f.jsx)("span",{className:t<n?y().starVoted:y().starNoVoted})},t)}))})})};var b=n(47805),k=n(49157);const N=e=>(0,o.useMemo)((()=>(e=>0===e?b.RatingTypes.Watched:e&&-1!==e?e<=4?b.RatingTypes.Negative:e<=6?b.RatingTypes.Neutral:b.RatingTypes.Positive:b.RatingTypes.NoWatched)(e)),[e]);var g=n(331),j=n.n(g);const O=e=>{let{voteValue:t=-1}=e;const n=N(t);return n===b.RatingTypes.NoWatched?(0,f.jsx)("div",{className:j().reviewPreviewNoWatch,"data-tid":"ce87918f",children:c.Z.setVote}):n===b.RatingTypes.Watched?(0,f.jsx)("div",{className:j().reviewPreviewNeutral,"data-tid":"ce87918f",children:(0,f.jsx)("div",{className:j().eye})}):(0,f.jsxs)("div",{className:m()({[j().reviewPreviewPositive]:n===b.RatingTypes.Positive,[j().reviewPreviewNegative]:n===b.RatingTypes.Negative,[j().reviewPreviewNeutral]:n===b.RatingTypes.Neutral}),"data-tid":"ce87918f",children:[(0,f.jsx)("div",{className:j().reviewPreviewValue,"aria-hidden":!0,children:t}),(0,f.jsx)(k.W,{children:_.z.userRating(t)})]})};var S=n(12962),x=n.n(S);const w=e=>{let{initialVote:t,mainTitle:n,additionalTitle:i,imgSrcSet:s,onCloseModal:u=a(),renderCustomIcon:m,onVoteChange:_=a(),onVoteRemove:v=a()}=e;const{0:p,1:y}=(0,o.useState)(t),{0:b,1:k}=(0,o.useState)(!1),N=(0,o.useCallback)((e=>{y(e),k(!0)}),[]),g=(0,o.useCallback)((()=>{r()(p)&&_(p),u()}),[p]),j=(0,o.useCallback)((()=>{v(),u()}),[p]),S=void 0!==t&&-1!==t;return(0,f.jsxs)(d.n,{onCloseModal:u,mainTitle:n,additionalTitle:i,imgSrcSet:s,children:[(0,f.jsx)(O,{voteValue:p}),(0,f.jsx)(h,{currentVoteValue:p,onVote:N,renderCustomIcon:m}),(0,f.jsxs)("div",{className:x().buttonContainer,"data-tid":"adbc60c2",children:[S&&(0,f.jsx)(l.Pz,{className:x().button,colorScheme:l.nj.Gray,onClick:j,content:c.Z.remove}),!S&&(0,f.jsx)(l.Pz,{className:x().button,colorScheme:l.nj.Gray,onClick:u,content:c.Z.cancel}),b&&(0,f.jsx)(l.Pz,{className:x().button,colorScheme:l.nj.Orange,onClick:g,content:c.Z.vote})]})]})}},29430:function(e,t,n){"use strict";n.d(t,{H_:function(){return r},NP:function(){return c},ON:function(){return s},OZ:function(){return i},TY:function(){return a},aD:function(){return l}});var o=n(42584);const i=", ",a=[o.F.thousandAbbreviation,o.F.millionAbbreviation,o.F.billionAbbreviation,o.F.trillionAbbreviation],s=["series","films","top"],r=["subscription"],l={subscription:"ANY"},c="__default"},71743:function(e,t,n){"use strict";n.d(t,{s:function(){return N}});var o=n(37667),i=n(53657),a=n(55330),s=n(41518),r=n(67905),l=n(90335),c=n(45994),d=n(42584),u=n(21403),m=n(20924),_=n(12621),v=n(71366),p=n(77042),y=n(37579);const f=e=>{let{filmId:t,filmTitle:n,filmGenres:o,folderId:i,operation:l,typeName:c=a.v.Film,isExpectationRatingActive:d,userExpectationValue:u}=e;return d&&i===r.G.WatchList&&(0,v.a)(i,l,d,u)?(0,p.N)({movieId:t,expectation:s.iM.Yes,rollbackExpectation:u,discard:l===r.Y.Remove&&u===s.iM.Yes,watchListFolderOperation:l,typeName:c,movieTitle:n,movieGenres:o}):(0,y.D)({filmId:t,folderId:i,operation:l,typeName:c,filmGenres:o,filmTitle:n})};var h=n(21128),b=n(46844),k=n(15322);const N=e=>{let{movieTypeName:t,filmId:n,filmTitle:v,filmGenres:p,isPlannedToWatch:y,isWatched:N,isNotInterested:g,isNeedToShowNotifications:j,isExpectationRatingActive:O=!1,userExpectationValue:S=null,queriesToRefetchOnWatchStatus:x}=e;const w=(0,i.useDispatch)(),T={id:n,__typename:t||a.v.Film},{0:P,1:C}=(0,o.useState)("show"),V=(0,o.useRef)(!1),I=(0,_.E)({movieType:t||a.v.Film,folderName:d.F.watchListFolderName}),F=(0,u.g)({movie:T,movieTitle:v,movieGenres:p,isPlannedToWatch:y,onAddCompleted:j?I.bind(void 0,r.Y.Add):void 0,onRemoveCompleted:j?I.bind(void 0,r.Y.Remove):void 0}),[,B]=(0,l.X)(n,N,(0,c.b)(T),x),[,R]=(0,m.H)({id:n,__typename:t||a.v.Film,userData:{watchStatuses:{notInterested:{value:g}}}},j),[D,M]=(0,h.J)(n,t),W=(0,o.useCallback)((e=>{let{folderId:o}=e;w(f({filmId:n,folderId:o,operation:r.Y.Add,typeName:t,isExpectationRatingActive:O,userExpectationValue:S,filmTitle:v,filmGenres:p}))}),[n,S,O]),A=(0,o.useCallback)((e=>{let{folderId:o}=e;w(f({filmId:n,folderId:o,operation:r.Y.Remove,typeName:t,isExpectationRatingActive:O,userExpectationValue:S,filmTitle:v,filmGenres:p}))}),[n,S,O]),[E]=(0,b.Z)({movieId:n}),z=(0,o.useCallback)((async()=>{if(!V.current){V.current=!0,C("removed");try{var e,t,n,o;const i=await E();(i.errors||(null===(e=i.data)||void 0===e||null===(t=e.movie)||void 0===t||null===(n=t.recommendation)||void 0===n||null===(o=n.remove)||void 0===o?void 0:o.status)!==s.ne.Success)&&C("show")}catch(i){C("show")}V.current=!1}}),[E]),[L]=(0,k.k)({movieId:n});return{togglePlannedToWatch:F,toggleWatchStatus:B,toggleNotInterestedStatus:R,handleVote:D,handleRemoveVote:M,handleFolderUnselect:A,handleFolderSelect:W,handleRemoveRecommendation:z,handleDiscardRemoveRecommendation:(0,o.useCallback)((async()=>{if(!V.current){V.current=!0,C("show");try{var e,t,n,o;const i=await L();(i.errors||(null===(e=i.data)||void 0===e||null===(t=e.movie)||void 0===t||null===(n=t.recommendation)||void 0===n||null===(o=n.discardRemove)||void 0===o?void 0:o.status)!==s.ne.Success)&&C("removed")}catch(i){C("removed")}V.current=!1}}),[L]),isDeletedFromRecommendation:"removed"===P}}},42584:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});const o={emptyThumbnailTitle:"\u041d\u0435\u0442 \u043a\u0430\u0434\u0440\u0430",filmForm1:"\u0444\u0438\u043b\u044c\u043c",filmForm2:"\u0444\u0438\u043b\u044c\u043c\u0430",filmForm3:"\u0444\u0438\u043b\u044c\u043c\u043e\u0432",watchedForm1:"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d",watchedForm2:"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e",watchedForm3:"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e",durationMinutes:"\u043c\u0438\u043d.",top250:"\u0422\u043e\u043f 250: ",imdb:"IMDb: ",tickets:"\u0411\u0438\u043b\u0435\u0442\u044b",watch:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c",inSubscription:"\u0412 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435",shortFilm:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0430",voiceActingIcon:"\u041e\u0437\u0432\u0443\u0447\u043a\u0430",director:"\u0420\u0435\u0436\u0438\u0441\u0441\u0451\u0440",voiceActing:"\u043e\u0437\u0432\u0443\u0447\u043a\u0430",cast:"\u0412 \u0440\u043e\u043b\u044f\u0445",paid:"\u041e\u043a\u0443\u043f\u0438\u043b\u0441\u044f",office:"\u0421\u0431\u043e\u0440\u044b",budget:"\u0411\u044e\u0434\u0436\u0435\u0442",deletedFilmCoverText:"\u0412\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u043c \u0432 \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u0445",recommendationFilmItemResetButtonTitle:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",hasMorePostfix:" \u2026",thousandAbbreviation:" \u0442\u044b\u0441 ",millionAbbreviation:" \u043c\u043b\u043d ",billionAbbreviation:" \u043c\u043b\u0440\u0434 ",trillionAbbreviation:" \u0442\u0440\u043b\u043d ",plannedToWatch:"\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c",trailer:"\u0422\u0440\u0435\u0439\u043b\u0435\u0440",watched:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d",notInterested:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e",rate:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c",addToFolder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0430\u043f\u043a\u0443",rated:"\u0412\u044b \u043e\u0446\u0435\u043d\u0438\u043b\u0438 \u043d\u0430 ",more:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c",watchListFolderName:"\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}},38528:function(e,t,n){"use strict";n.d(t,{Py:function(){return i},fR:function(){return s},jb:function(){return r},t0:function(){return o},zx:function(){return a}});const o=" \u2022 ",i="\u2013",a="\xa0",s=1,r=1},17989:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var o=n(33092),i=n(38528);const a=e=>{let{startYear:t,endYear:n,productionYear:a}=e;return(0,o.hb)({start:t,end:n,delimiter:i.Py})||a}},66277:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var o=n(54501),i=n(29430);const a=(0,o.o)(i.OZ)},14008:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var o=n(42584);function i(e){return`${e}\xa0${o.F.durationMinutes}`}},48913:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var o=n(54501),i=n(38528);const a=(0,o.o)(i.t0)},29704:function(e,t,n){"use strict";n.d(t,{F:function(){return s}});var o=n(16144),i=n(74663),a=n(54462);const s=e=>{let{baseUrl:t,fallbackUrl:n,posterSize:s,viewportSize:r}=e;const l=r===o.ViewportSizes.Small;let c;switch(s){case"medium":c={x1:i.z.w72h108,x2:i.z.w136h204};break;case"large":c={x1:i.z.w200h300,x2:i.z.w400h600};break;default:c=l?{x1:i.z.w72h108,x2:i.z.w136h204}:{x1:i.z.w40h60,x2:i.z.w80h120}}return(0,a.Q)(t,{mds:c,fallback:n})}},54501:function(e,t,n){"use strict";function o(e){return t=>t.filter(Boolean).join(e)}n.d(t,{o:function(){return o}})},93407:function(e,t,n){"use strict";n.d(t,{A:function(){return i},q:function(){return o}});const o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveRecommendation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieDiscardRemoveRecommendation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discardRemove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}},15322:function(e,t,n){"use strict";n.d(t,{k:function(){return m}});var o=n(84689),i=n(32626),a=n(47230),s=n.n(a),r=n(93407),l=n(22860),c=n(79062);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){let{movieId:t,onCompleted:n=s()}=e;const o=(0,c.y)();return(0,i.D)(r.A,{variables:{movieId:t},errorPolicy:"all",context:o,optimisticResponse:u({},l.Sp),onCompleted:n})}},46844:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var o=n(84689),i=n(32626),a=n(47230),s=n.n(a),r=n(93407),l=n(22860),c=n(79062);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){let{movieId:t,onCompleted:n=s()}=e;const o=(0,c.y)();return(0,i.D)(r.q,{variables:{movieId:t},errorPolicy:"all",context:o,optimisticResponse:u({},l.Me),onCompleted:n})}},21403:function(e,t,n){"use strict";n.d(t,{g:function(){return w}});var o=n(53657),i=n(37667),a=n(67905),s=n(70451),r=n(7345),l=n(84689),c=n(7119),d=n(19450);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=e=>{let{cache:t,movie:n,mutationStatus:o,operation:i,folder:s}=e;t.modify({id:t.identify(m({},n)),fields:{userData(e,t){var r;let{isReference:l}=t;if(l(e))return e;if("SUCCESS"!==o)return e;if(null===s||void 0===s||!s.name)return e;let u=null;return i===a.Y.Add&&(u=(0,c.C)({userData:{userData:e},folder:s,typeName:n.__typename})),i===a.Y.Remove&&(u=(0,d.Z)({userData:{userData:e},folder:s,typeName:n.__typename})),m({},null===(r=u)||void 0===r?void 0:r.userData)}}})};var v=n(32626),p=n(47230),y=n.n(p);const f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieAddFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMovie"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"folderId"},value:{kind:"Variable",name:{kind:"Name",value:"folderId"}}},{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var h=n(22860),b=n(13400);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){let{movie:t,folder:n,mutationUpdater:o=y(),onCompleted:i=y()}=e;const[s]=function(e){return(0,v.D)(f,{errorPolicy:"all",optimisticResponse:N({},h.E6),onCompleted:e})}(i);return(0,b.h)((()=>{n&&s({variables:{movieId:t.id,folderId:n.id},update(e,i){var s,r,l;o({cache:e,movie:t,mutationStatus:null===(s=i.data)||void 0===s||null===(r=s.folder)||void 0===r||null===(l=r.addMovie)||void 0===l?void 0:l.status,operation:a.Y.Add,folder:n})}})}),[t,n])}const j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeMovie"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"folderId"},value:{kind:"Variable",name:{kind:"Name",value:"folderId"}}},{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){let{movie:t,folder:n,mutationUpdater:o=y(),onCompleted:i=y()}=e;const[s]=function(e){return(0,v.D)(j,{errorPolicy:"all",optimisticResponse:S({},h.Jm),onCompleted:e})}(i);return(0,b.h)((()=>{n&&s({variables:{movieId:t.id,folderId:n.id},update(e,i){var s,r,l;o({cache:e,movie:t,mutationStatus:null===(s=i.data)||void 0===s||null===(r=s.folder)||void 0===r||null===(l=r.removeMovie)||void 0===l?void 0:l.status,operation:a.Y.Remove,folder:n})}})}),[t,n])}const w=e=>{let{movie:t,movieTitle:n,movieGenres:l,isPlannedToWatch:c,onAddCompleted:d,onRemoveCompleted:u}=e;const m=(0,o.useSelector)((e=>(0,s.S)(e,{entityId:a.G.WatchList}))),v=(0,o.useDispatch)(),p=(e=>{let{movie:t,folder:n,isAddedToFolder:o,onAddCompleted:i,onRemoveCompleted:a}=e;const s=g({movie:t,folder:n,mutationUpdater:_,onCompleted:i}),r=x({movie:t,folder:n,mutationUpdater:_,onCompleted:a});return o?r:s})({movie:t,folder:m,isAddedToFolder:c,onAddCompleted:d,onRemoveCompleted:u});return(0,i.useCallback)((()=>{v((0,r.I)({movieTitle:n,movieGenres:l,operation:c?a.Y.Remove:a.Y.Add})),p()}),[p,n,l,c,v])}},12621:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var o=n(53657),i=n(47805),a=n(30891),s=n(49804);function r(e){let{movieType:t,folderName:n}=e;const r=(0,o.useDispatch)();return function(e){const o=(0,s.G)({operation:e,folderName:n,movieType:i.MovieTypes[t]})||"";r((0,a.X)({text:o}))}}},94919:function(e,t,n){"use strict";n.d(t,{o:function(){return p}});var o=n(37667),i=n.n(o),a=n(88211),s=n.n(a),r=n(47230),l=n.n(r),c=n(64795),d=n(71297),u=n(59416),m=n.n(u),_=n(42908);const v=(e,t)=>{let{title:n,items:o,selectedValues:i,className:a,colorScheme:r=c.ElementColorSchemes.Light,onItemChecked:u=l(),onItemUnchecked:v=l()}=e;return(0,_.jsxs)("div",{ref:t,className:s()(a,m().root,{[m().rootDark]:r===c.ElementColorSchemes.Dark,[m().rootLight]:r===c.ElementColorSchemes.Light}),"data-tid":"46761eb",children:[n&&(0,_.jsx)("h3",{className:m().title,children:n}),(0,_.jsx)("div",{className:m().itemWrapper,children:o.map((e=>{let{title:t,value:n}=e;return(0,_.jsx)(d.X,{isActive:i.includes(n),className:m().item,title:t,value:n,colorScheme:r,onChecked:u,onUnchecked:v},n)}))})]})},p=i().forwardRef(v)},27306:function(e,t,n){"use strict";n.d(t,{Pz:function(){return _},K8:function(){return d},nj:function(){return c}});var o=n(47230),i=n.n(o),a=n(88211),s=n.n(a),r=n(62462),l=n.n(r);let c,d;!function(e){e.Orange="orange",e.Gray="gray",e.White="white",e.Green="green",e.Red="red"}(c||(c={})),function(e){e.All="all",e.OnlyLeft="onlyLeft",e.OnlyRight="onlyRight"}(d||(d={}));const u={[c.Orange]:l().touchVoteButtonOrange,[c.Gray]:l().touchVoteButtonGray,[c.White]:l().touchVoteButtonWhite,[c.Green]:l().touchVoteButtonGreen,[c.Red]:l().touchVoteButtonRed};var m=n(42908);const _=e=>{let{content:t,onClick:n=i(),colorScheme:o=c.Orange,borderStyle:a=d.All,className:r,iconClassName:_}=e;const v=u[o];return(0,m.jsx)("button",{onClick:n,type:"button",className:s()(l().touchVoteButton,r,v,{[l().touchVoteButtonBorderOnlyLeft]:a===d.OnlyLeft,[l().touchVoteButtonBorderOnlyRight]:a===d.OnlyRight}),"data-tid":"e4cdf113",children:(0,m.jsx)("span",{className:_,children:t})})}},8844:function(e,t,n){"use strict";n.d(t,{K8:function(){return o.K8},Pz:function(){return o.Pz},nj:function(){return o.nj}});var o=n(27306)},59416:function(e){e.exports={root:"styles_root__N3uam",title:"styles_title__BOVSG",itemWrapper:"styles_itemWrapper__2tNUh",item:"styles_item__swkWa",rootLight:"styles_rootLight__ke3oC",rootDark:"styles_rootDark__osnQA"}},62462:function(e){e.exports={touchVoteButton:"styles_touchVoteButton__4DpgI",touchVoteButtonOrange:"styles_touchVoteButtonOrange__7cAQr",touchVoteButtonGray:"styles_touchVoteButtonGray__6ZeA8",touchVoteButtonWhite:"styles_touchVoteButtonWhite__zPPhw",touchVoteButtonGreen:"styles_touchVoteButtonGreen__DPlve",touchVoteButtonRed:"styles_touchVoteButtonRed__ptMXD",touchVoteButtonBorderOnlyLeft:"styles_touchVoteButtonBorderOnlyLeft__TXLCR",touchVoteButtonBorderOnlyRight:"styles_touchVoteButtonBorderOnlyRight__dICR_"}},63130:function(e){e.exports={buttonReset:"styles_buttonReset__NADbW",listButton:"styles_listButton__jwLZu styles_buttonReset__NADbW",delimiter:"styles_delimiter__DrFor",buttonsContainer:"styles_buttonsContainer__g0_AO",icon:"styles_icon__iTDma",watched:"styles_watched__jrXl9 styles_icon__iTDma",active:"styles_active__5iew3",notInterested:"styles_notInterested__MJuXe styles_icon__iTDma",dropdownMenu:"styles_dropdownMenu__c9TCI"}},84578:function(e){e.exports={root:"base-movie-main-info_root__099JN",mainInfo:"base-movie-main-info_mainInfo__ZL_u3",link:"base-movie-main-info_link__YwtP1"}},65024:function(e){e.exports={mainTitle:"styles_mainTitle__IFQyZ",activeMovieTittle:"styles_activeMovieTittle__kJdJj",secondaryInfo:"styles_secondaryInfo__taCL9",yearsWithType:"styles_yearsWithType___0mz7",activeMovieYearsWithType:"styles_activeMovieYearsWithType__Ys_Io",mainTitleSmall:"styles_mainTitleSmall__YkkNo",mainInfoSmall:"styles_mainInfoSmall__axKO2"}},91046:function(e){e.exports={root:"touch-base-movie-main-info_root__Pkkjc",mainInfo:"touch-base-movie-main-info_mainInfo__VNG4p",link:"touch-base-movie-main-info_link__OrY0T"}},94089:function(e){e.exports={secondaryInfo:"touch-movie-main-info_secondaryInfo__asBZ_",tertiaryInfo:"touch-movie-main-info_tertiaryInfo__CESTQ",secondaryText:"touch-movie-main-info_secondaryText__Otlkg",availabilityAnnounce:"touch-movie-main-info_availabilityAnnounce__rWZah",secondaryTitleSlot:"touch-movie-main-info_secondaryTitleSlot__k_e_9",secondaryTitle:"touch-movie-main-info_secondaryTitle__vLh6A"}},15705:function(e){e.exports={root:"styles_root__wgbNq",image:"styles_image__gRXvn",mediumSizeType:"styles_mediumSizeType__fPzdD",largeSizeType:"styles_largeSizeType__OSz4l",rating:"styles_rating__ni2L0",rightholderLogo:"styles_rightholderLogo__wISXu",trailerButton:"styles_trailerButton__YTX4X",imageSmall:"styles_imageSmall__n2arV"}},23816:function(e){e.exports={kinopoisk:"styles_kinopoisk__JZttS",kinopoiskValue:"styles_kinopoiskValue__9qXjg",kinopoiskValuePositive:"styles_kinopoiskValuePositive__vOb2E styles_kinopoiskValue__9qXjg",kinopoiskValueNegative:"styles_kinopoiskValueNegative__Y75Rz styles_kinopoiskValue__9qXjg",kinopoiskValueNeutral:"styles_kinopoiskValueNeutral__sW9QT styles_kinopoiskValue__9qXjg",kinopoiskCount:"styles_kinopoiskCount__2_VPQ",top250Type:"styles_top250Type__mPloU",leftLeaf:"styles_leftLeaf__3OnP4",rightLeaf:"styles_rightLeaf__DXtZS",column:"styles_column__RBEDm",empty:"styles_empty__mT5M6",imdb:"styles_imdb__fMSgh",kinopoiskValueBlock:"styles_kinopoiskValueBlock__qhRaI"}},22659:function(e){e.exports={root:"styles_root__2YYls"}},63011:function(e){e.exports={root:"styles_root__Jhf3F",foldersButtons:"styles_foldersButtons__FUXd0",watchButton:"styles_watchButton__dlRne",movieRatingVotingBar:"styles_movieRatingVotingBar__Iuo2E",movieRatingButton:"styles_movieRatingButton__wKlKz",plannedToWatch:"styles_plannedToWatch__DGwtf"}},64999:function(e){e.exports={button:"styles_button__ykcOG",icon:"styles_icon__vllMt",active:"styles_active__CkdWj",buttonSmall:"styles_buttonSmall__gQROn",iconSmall:"styles_iconSmall__51AM5"}},37313:function(e){e.exports={button:"styles_button__ggqHh",isSmall:"styles_isSmall__mdzTt",vertical:"styles_vertical__ujDx5"}},39220:function(e){e.exports={root:"styles_root__zUQ5a",dropdown:"styles_dropdown__6PMqI",dropdownButton:"styles_dropdownButton__3zGAH",arrowIcon:"styles_arrowIcon__Szl2w",arrowIconOpened:"styles_arrowIconOpened___3D7E",selectedItem:"styles_selectedItem__KM2xi",rootSmall:"styles_rootSmall__20fTv",dropdownButtonSmall:"styles_dropdownButtonSmall__xTv0Y",selectedItemSmall:"styles_selectedItemSmall__5Eh1s"}},6410:function(e){e.exports={root:"styles_root__o_aAP",subtitle:"styles_subtitle__V93vt",title:"styles_title__skJ4z",rootActive:"styles_rootActive__xFaoQ",rootDisable:"styles_rootDisable__R2zXQ",loadingSubtitle:"styles_loadingSubtitle__vhYzx"}},26052:function(e){e.exports={icon:"styles_icon__5N4kQ",watched:"styles_watched__G7nmS styles_icon__5N4kQ",active:"styles_active__TQRK3",notInterested:"styles_notInterested__OcQn5 styles_icon__5N4kQ",trailer:"styles_trailer__UdSY3 styles_icon__5N4kQ",plannedToWatch:"styles_plannedToWatch__8SBP0 styles_icon__5N4kQ",rate:"styles_rate__b4WYY styles_icon__5N4kQ",addToFolder:"styles_addToFolder___x_nG styles_icon__5N4kQ",foldersModalContent:"styles_foldersModalContent__VZfO6"}},13872:function(e){e.exports={root:"styles_root__KcxjH"}},21151:function(e){e.exports={captions:"styles_captions__6W9XM",availabilityAnnounce:"styles_availabilityAnnounce__GqBTJ"}},5129:function(e){e.exports={root:"styles_root__sGsfb",originalOffer:"styles_originalOffer__I_sMw",purchasedMovie:"styles_purchasedMovie__N_tJR"}},33359:function(e){e.exports={root:"styles_root__rCGal",button:"styles_button__xjFTa",openedButton:"styles_openedButton__auCe1",closedButton:"styles_closedButton__jVYX8 styles_button__xjFTa",hiddenClosedControlButton:"styles_hiddenClosedControlButton__87LJ5 styles_closedButton__jVYX8 styles_button__xjFTa",buttonPositive:"styles_buttonPositive__qX_0e",buttonNegative:"styles_buttonNegative__FtfMr",buttonNeutral:"styles_buttonNeutral__1kTCo",controls:"styles_controls__X1G1t",star:"styles_star__R6DQ_ styles_controls__X1G1t",closeSvg:"styles_closeSvg__iPHsG",close:"styles_close__l4q8S styles_controls__X1G1t styles_closeSvg__iPHsG",delete:"styles_delete__omJCm styles_controls__X1G1t styles_closeSvg__iPHsG",choiceStar:"styles_choiceStar__rcAhi styles_controls__X1G1t",choiceStarHighlightedPositive:"styles_choiceStarHighlightedPositive__Fwzzh",choiceStarHighlightedNegative:"styles_choiceStarHighlightedNegative__tK7xw",choiceStarHighlightedNeutral:"styles_choiceStarHighlightedNeutral__rvLHF",textValue:"styles_textValue__9gNEa",value:"styles_value__1CvNB",valueHidden:"styles_valueHidden__iK2Sj",hoveredValue:"styles_hoveredValue__BOR8B",deleteWrapper:"styles_deleteWrapper__doZQA",separator:"styles_separator__LzY9u",votingChoice:"styles_votingChoice__0nr88",tooltip:"styles_tooltip__sJkhB"}},49659:function(e){e.exports={root:"style_root__2UfdO",icon:"style_icon__CCIJW",text:"style_text__lR_GB"}},16e3:function(e){e.exports={poster:"styles_poster__8HAXb",mainTitle:"styles_mainTitle__PZVl_",additionalTitle:"styles_additionalTitle__dRo5_",headerContainer:"styles_headerContainer__Nwtfi",titleContainer:"styles_titleContainer__Gj2UE"}},12962:function(e){e.exports={buttonContainer:"styles_buttonContainer__OkFpb",button:"styles_button__rTd_o"}},331:function(e){e.exports={reviewPreview:"styles_reviewPreview__JI_IM",reviewPreviewNeutral:"styles_reviewPreviewNeutral__odjGO styles_reviewPreview__JI_IM",reviewPreviewPositive:"styles_reviewPreviewPositive__m9qYF styles_reviewPreview__JI_IM",reviewPreviewNoWatch:"styles_reviewPreviewNoWatch__45rdo styles_reviewPreview__JI_IM",reviewPreviewNegative:"styles_reviewPreviewNegative__hvpUa styles_reviewPreview__JI_IM",reviewPreviewValue:"styles_reviewPreviewValue__TECr2",eye:"styles_eye__Uhqlt"}},38311:function(e){e.exports={touchRatingVote:"styles_touchRatingVote__WNjxj",starsContaner:"styles_starsContaner__OIka1",iconButton:"styles_iconButton___Xq09",voteButton:"styles_voteButton__qwz2h styles_iconButton___Xq09",baseIcon:"styles_baseIcon__qRkKr",starNoVoted:"styles_starNoVoted__U7x3J styles_baseIcon__qRkKr",starVoted:"styles_starVoted__xwOPj styles_baseIcon__qRkKr"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/2679-7410c6531d4100b8.js.map